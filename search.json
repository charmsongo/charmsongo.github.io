[{"title":"Mapç®€å•è®°å½•","url":"/2019/07/16/Mapç®€å•è®°å½•/","content":"\n# Map ç¬”è®°\n\nä»Šå¤©å­¦ä¹ äº† map ä¸­çš„ hashMap å’Œ concurrentHashMap åŒºåˆ«ï¼Œç®€å•è®°å½•ä¸‹ã€‚\n\n## 1.JDk1.7\n**hashmapï¼š**\n\n 1. hashmap æ˜¯æ•°ç»„å’Œé“¾è¡¨çš„ç»„åˆç»“æ„ï¼Œçº¿ç¨‹ä¸å®‰å…¨\n 2. hashmap é»˜è®¤é•¿åº¦ä¸º 16ï¼Œé»˜è®¤åŠ è½½å› å­ä¸º 0.75ï¼Œhashmap æ·»åŠ æ•°æ®æ—¶ï¼Œæ·»åŠ åçš„é•¿åº¦å¤§äºç­‰äºåŸæ¥é•¿åº¦*åŠ è½½å› å­æ—¶ä¼šæ‰©å®¹ï¼Œé»˜è®¤å¢åŠ ä¸ºåŸæ¥çš„ 2 å€\n 3. hashmap æŒ‡å®šé•¿åº¦å’ŒåŠ è½½å› å­åˆå§‹åŒ–æ„é€ æ–¹æ³•æ—¶ï¼Œhashmap çš„é•¿åº¦åˆå§‹åŒ–ä¸ºå¤§äºç­‰äºæŒ‡å®šé•¿åº¦çš„ 2 çš„æ¬¡æ–¹çš„å€¼\n 4. hashmap çš„é•¿åº¦æ€»æ˜¯ä¸º 2 çš„æ¬¡æ–¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿é€šè¿‡å¯»æ‰¾åˆ° entry å¯¹è±¡å­˜åœ¨é‚£ä¸ªæ•°ç»„èŠ‚ç‚¹ã€‚\n 5. put() æ–¹æ³•æ“ä½œæ—¶ï¼Œå…ˆé€šè¿‡ hashcode ä½è¿ç®—å’Œä¸è¿ç®—åå¾—åˆ° hashï¼Œå†é€šè¿‡ hash & (hashmapé•¿åº¦-1) å¯»æ‰¾åˆ°entryå¯¹è±¡å­˜åœ¨é‚£ä¸ªæ•°ç»„èŠ‚ç‚¹ï¼Œç„¶åå¾—åˆ°è¿™ä¸ªèŠ‚ç‚¹å­˜æ”¾çš„é“¾è¡¨ï¼Œå¦‚æœä¸º nullï¼Œç›´æ¥å­˜æ”¾ï¼Œå¦‚æœä¸ä¸º null,åˆ™é€šè¿‡ key åˆ¤æ–­æ˜¯å¦æœ‰è‡ªå·±å­˜æ”¾çš„ key çš„  entryï¼Œæœ‰ç›´æ¥æ›¿æ¢ valueï¼Œè¿”å› oldvalueï¼Œå¦‚æœæ²¡æœ‰åˆ¤æ–­é“¾è¡¨é•¿åº¦ï¼Œæœ€åæ”¾åœ¨é“¾è¡¨å¤´éƒ¨ï¼Œç„¶åå­˜æ”¾é“¾è¡¨åŸæ¥å¤´éƒ¨ entry çš„ä¸‹æ ‡ nextï¼Œé“¾è¡¨ä¸‹ç§»\n 6. æ‰©å®¹æ—¶ï¼Œæ•°ç»„å…ƒç´ ä¸­é“¾è¡¨çš„é¡ºåºå’ŒåŸæ¥å­˜æ”¾çš„é¡ºåºåˆšå¥½ç›¸åï¼Œå¹¶ä¸”ä¼šå‡ºç°æ­»å¾ªç¯çš„é—®é¢˜\n\n   **hashtable**ï¼šçº¿ç¨‹å®‰å…¨ï¼Œç»™ put() æ–¹æ³•åŠ äº†ä¸ª synchronizedï¼Œæ•ˆç‡æ…¢ \n   **concurrentHashMapï¼š**    æ„é€ æ–¹æ³•ä¸­æ¯” hashmap å¤šä¸ªçº§åˆ«levelçš„å‚æ•°ï¼Œè¯¥ map æŠŠä¸€ä¸ªentryæ•°ç»„åˆ†ä¸ºäº† level ä¸ªï¼Œsegmentï¼Œå¹¶ä¸”æ¯ä¸ªéƒ½åŠ é”ï¼Œæ¯ä¸ª segment çš„é•¿åº¦ä¸º map çš„é•¿åº¦/level\n\n## 2.JDK1.8\n\n **hashmapï¼š**\nç›¸å¯¹äº jdk1.7 çš„åŒºåˆ«ï¼š\n 1. put() æ–¹æ³•æ’å…¥å…ƒç´ ï¼Œè¿½åŠ åœ¨é“¾è¡¨çš„å°¾éƒ¨ï¼Œè€Œä¸æ˜¯æ’å…¥å¤´éƒ¨å†å‘ä¸‹ç§»åŠ¨ä¸€ä½\n 2. é“¾è¡¨é•¿åº¦å¤§äºç­‰äº8æ—¶ä¼šæ ‘åŒ–ä¸ºçº¢é»‘æ ‘ç»“æ„\n\n**concurrentHashMapï¼š**\nç›¸å¯¹äº jdk1.7 çš„åŒºåˆ«ï¼šæ²¡æœ‰äº† segmentã€‚å› ä¸ºæ¯æ¬¡æ“ä½œéƒ½ä¼šè®¾è®¡é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥åªç»™é“¾è¡¨ç¬¬ä¸€ä½å…ƒç´ åŠ é”\n\n\n> å¦‚æœæœ‰å“ªäº›ä¸å¯¹çš„åœ°æ–¹çƒ¦è¯·æŒ‡è®¤ï¼Œå…ˆè¡Œæ„Ÿè°¢","tags":["JDK","JAVA","MAP"]},{"title":"MYSQLå­¦ä¹ ç¬”è®°one","url":"/2019/07/07/MYSQLå­¦ä¹ ç¬”è®°one/","content":"\n\n\n# MYSQL ç¬”è®°\n\nå¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæ„Ÿè§‰æ—¶é—´è¿‡çš„å¥½å¿«ï¼Œè™½ç„¶æ²¡æ›´æ–‡ï¼Œä½†æ˜¯è‡ªå·±æ²¡æœ‰æ”¾å¼ƒè®°å½•è¾“å‡ºï¼Œè¿™æ¬¡è®°å½•ä¸‹å­¦ä¹  MySQL çš„ä¸€äº›çŸ¥è¯†ã€‚\n\n## 1.MYSQL ä¸­ NULL å’Œç©ºå€¼åŒºåˆ«\n\n 1. ç©ºå€¼é•¿åº¦ä¸º 0ï¼Œnull æ²¡æœ‰é•¿åº¦ï¼Œæ˜¾ç¤º null\n 2. å‡½æ•° count é»˜è®¤æŠŠåˆ—ä¸­ null è¡Œå»æ‰ï¼Œç©ºå€¼ä¼šè®¡ç®—ï¼Œå‡½æ•° ifnull(parm1,parm2) æ„ä¸ºå½“ parm1 ä¸º null å€¼æ—¶ï¼Œç»“æœä¸º parm2ï¼Œä¸ä¸ºnull æ—¶ï¼Œç»“æœä¸º parm1\n 3. MYSQL ä¸­ï¼Œæ™®é€šç´¢å¼•å’Œå¤åˆç´¢å¼•æœ‰å€¼ä¸º null æ—¶æ˜¯èµ°ç´¢å¼•çš„ï¼Œèµ„æ–™ä¸Šè¯´**ç©ºé—´ç´¢å¼•**ä¸èµ°\n 4. explain å¯ä»¥æŸ¥çœ‹è¯­å¥æ‰§è¡Œè¯¦æƒ…\n 5. show keys(indexes) from table æŸ¥çœ‹è¡¨ç´¢å¼•\n 6. å…¨éƒ¨æ’å…¥ null ä¼šæŠ¥é”™\n-- 1048 - Column 'one' cannot be null\n 7. æ·»åŠ ç´¢å¼•\n-- ALTER TABLE table_name ADD INDEX index_name(col_name);\n--ALTER TABLE tb_test ADD INDEX index_oat (one, two);\n--ALTER TABLE tb_test add INDEX index_two(two);\n\n\n## 2.MYSQLè§¦å‘å™¨\n\n 1. æ˜¾ç¤ºåº“è§¦å‘å™¨ show triggers;\n**SHOW TRIGGERS [FROM schema_name];**\nå…¶ä¸­å¯é€‰å‚æ•° schema_name å³ Schema çš„åç§°ï¼Œåœ¨ MySQL ä¸­ Schema å’Œ Database ç›¸å…³ï¼ŒæŸ¥çœ‹æ—¶å¯ä»¥æŒ‡å®šæ•°æ®åº“åã€‚æŒ‡å®šåä¼šä»æŒ‡å®šçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œä¸å®šåˆ™ä» USE database_name;åˆ‡æ¢çš„ï¼Œå½“å‰å·¥ä½œæ•°æ®åº“æŸ¥è¯¢ã€‚\n 2. åˆ›å»ºè§¦å‘å™¨\n**CREATE TRIGGER <è§¦å‘å™¨åç§°>\n{ BEFORE | AFTER }\n{ INSERT | UPDATE | DELETE } \nON <è¡¨åç§°>\nFOR EACH ROW\n<è§¦å‘çš„SQLè¯­å¥>**\nè§¦å‘å™¨åç§° -- è§¦å‘å™¨åå­—ï¼Œæœ€å¤š 64 ä¸ªå­—ç¬¦ï¼Œå…¶å‘½ä»¤è§„åˆ™å’Œ MySQL ä¸­å…¶ä»–å¯¹è±¡çš„å‘½åæ–¹å¼ç±»ä¼¼\n{ BEFORE | AFTER } -- è§¦å‘å™¨æ‰§è¡Œæ—¶é—´ï¼šå¯ä»¥è®¾ç½®ä¸ºäº‹ä»¶å‘ç”Ÿå‰æˆ–å\n{ INSERT | UPDATE | DELETE } -- è§¦å‘äº‹ä»¶ï¼šå¯ä»¥è®¾ç½®ä¸ºåœ¨æ‰§è¡Œ INSERTã€UPDATEã€DELETE æ“ä½œæ—¶è§¦å‘\nè¡¨åç§° -- è§¦å‘å™¨æ‰€å±è¡¨ï¼šè§¦å‘å™¨å±äºæŸä¸€ä¸ªè¡¨ï¼Œå½“åœ¨è¿™ä¸ªè¡¨ä¸Šæ‰§è¡Œ INSERTã€UPDATEã€DELETE æ“ä½œçš„æ—¶å°±ä¼šä½¿è§¦å‘å™¨è§¦å‘ï¼Œä¸€å¼ è¡¨çš„åŒä¸€ä¸ªäº‹ä»¶åªèƒ½æœ‰ä¸€ä¸ªè§¦å‘å™¨\nFOR EACH ROW -- è§¦å‘å™¨çš„æ‰§è¡Œé—´éš”ï¼šFOR EACH ROW å­å¥é€šçŸ¥è§¦å‘å™¨ï¼Œæ¯è¡Œæ‰§è¡Œä¸€æ¬¡åŠ¨ä½œ\nè§¦å‘çš„ SQL è¯­å¥ -- äº‹ä»¶è§¦å‘æ—¶æ‰€è¦æ‰§è¡Œçš„SQLè¯­å¥ã€‚\nä¾‹:\nmysql> DELIMITER $   //å°†SQLè¯­å¥çš„ç»“æŸç¬¦è®¾ç½®ä¸º#\nmysql> CREATE TRIGGER t_after_insert_userRoles\nAFTER INSERT ON\nuserRoles\nFOR EACH ROW\nBEGIN\n    update users set isManager = 1 where userId = new.userId and new.roleId = 1;\nEND$\nmysql> DELIMITER ;   //å°† SQL è¯­å¥çš„ç»“æŸç¬¦è®¾é‡ç½®ä¸º;ä»¥ä¸å½±å“åç»­ä½¿ç”¨\n 3. åˆ é™¤è§¦å‘å™¨\n**DROP TRIGGER [IF EXISTS] [schema_name.]trigger_name;**\n\n\n## 3.MYSQL æ•°æ®åº“çš„äº‹åŠ¡\n\n **ç‰¹æ€§:**\n 1. åŸå­æ€§ï¼ˆAtomicityï¼‰*äº‹åŠ¡ä¸­çš„ç¨‹åºå¯¹æ•°æ®åº“çš„ä¿®æ”¹æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥*\n 2. ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰*äº‹åŠ¡æ‰§è¡Œå‰å’Œæ‰§è¡Œåæ•°æ®çš„æ¥æºå’Œå»å‘ä¿æŒå¹³è¡¡*\n 3. éš”ç¦»æ€§ï¼ˆIsolationï¼‰*å¹¶å‘æ—¶æ¯ä¸ªäº‹åŠ¡ç›¸äº’ä¸å½±å“ï¼Œäº’ç›¸éš”ç¦»*\n 4. æŒä¹…æ€§ï¼ˆDurubilityï¼‰*äº‹åŠ¡ä¸€æ—¦æäº¤æˆåŠŸï¼Œåº”ä¿è¯æ•°æ®çš„å®Œæ•´å­˜åœ¨*\n\n  **éš”ç¦»çº§åˆ«:**\nA.è¯»å–æœªæäº¤\nB.è¯»å–å·²æäº¤\nC.å¯é‡å¤è¯»(mysqlé»˜è®¤çº§åˆ«)\nD.å¯ä¸²è¡ŒåŒ–(ä¼šå¯¼è‡´å¤§é‡è¶…æ—¶ç°è±¡å’Œé”ç«äº‰)\n\noracleæ•°æ®åº“æ”¯æŒä¸¤ç§Bå’ŒDï¼Œé»˜è®¤ä¸ºB\n\n\n\n## 4.MYSQL æ•°æ®åº“ SQL ä¼˜åŒ–\n\n 1. explain+sqlæŸ¥çœ‹è¯­å¥æ‰§è¡Œè®¡åˆ’ï¼Œtypeæ˜¯sqlè¯­å¥æŸ¥è¯¢çš„ç±»å‹allæ˜¯æ²¡æœ‰èµ°ç´¢å¼•ï¼Œrefã€eq_refæ˜¯èµ°ç´¢å¼•ï¼Œtypeä¸ºindex_mergeï¼Œextraæœ‰intersectæ˜¯å¹¶é›†ç´¢å¼•\n 2. create index åå­—_index on table(åŠ ç´¢å¼•å­—æ®µ,â€¦)ï¼Œå»ºå•ä¸ªæˆ–è€…è”åˆç´¢å¼•\n 3. show warnings;æ˜¯æŸ¥è¯¢ä¼˜åŒ–åçš„è¯­å¥\n 4. æŸ¥è¯¢çš„ç»“æœé›†ä¸ºä¸ªåˆ«æ—¶ï¼Œwhereåçš„æ¡ä»¶éƒ½åŠ ç´¢å¼•\n 5. å¤šè¡¨è¿æ¥çš„å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•\n 6. whereæ¡ä»¶å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•\n 7. æ’åºå­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•\n 8. åˆ†ç»„å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•\n 9. Whereæ¡ä»¶ä¸Šä¸è¦ä½¿ç”¨è¿ç®—å‡½æ•°ï¼Œä»¥å…ç´¢å¼•å¤±æ•ˆ\n 10. å¤šåˆ—ç´¢å¼•è¿˜æœ‰æœ€å·¦å‰ç¼€çš„ç‰¹æ€§ï¼Œå³ç´¢å¼•çš„ç¬¬ä¸€ä¸ªå­—æ®µsexè¦å‡ºç°åœ¨whereæ¡ä»¶ä¸­\n 11. å½“whereåçš„æ¡ä»¶è”åˆèµ·æ¥æŸ¥è¯¢ç»“æœåŒºåˆ†åº¦é«˜æ—¶æ¨èä½¿ç”¨è”åˆç´¢å¼•\n\n>  MYSQé€»è¾‘å¤„ç†æ­¥éª¤å¦‚ä¸‹å›¾\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](MYSQLå­¦ä¹ ç¬”è®°one\\1.png)\n","tags":["MYSQL","è§¦å‘å™¨"]},{"title":"Hello World","url":"/2019/06/23/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n\n"},{"title":"springbootç™»é™†é¡µé¢å›¾ç‰‡éªŒè¯ç ç®€å•çš„webé¡¹ç›®","url":"/2019/04/02/springbootç™»é™†é¡µé¢å›¾ç‰‡éªŒè¯ç ç®€å•çš„webé¡¹ç›®/","content":"\n# å†™åœ¨å‰é¢\nå‰æ®µæ—¶é—´å¤§å®¶éƒ½è¯´æœ€è¿‘å¤§ç¯å¢ƒä¸å¥½ï¼Œå¥½å¤šå…¬å¸åœ¨è£å‘˜ï¼Œæ¢å·¥ä½œçš„è¯ä¸æ¨èè½»æ˜“çš„è£¸è¾ï¼Œä½†æ˜¯æˆ‘æƒ³è¯´çš„æ˜¯æˆ‘æ‰€åœ¨çš„å…¬å¸å¥½æµå¼Šï¼Œæœ‰åšä¸å®Œçš„ä¸šåŠ¡éœ€æ±‚ï¼Œè¿˜æœ‰å°±æ˜¯æ‹›ä¸å®Œçš„äºº......\næœ€è¿‘æˆ‘ä¹Ÿæ˜¯æ¯”è¾ƒç¹å¿™ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æŠ½ä¸€ç‚¹æ—¶é—´æ¥è¿›è¡Œè‡ªæˆ‘å¤ç›˜å’Œè®°å½•ï¼Œæœ€è¿‘ä¹Ÿå†™ä¸€ä¸ªç®€å•çš„å°åŠŸèƒ½ï¼Œå°±æ˜¯ç™»é™†ç•Œé¢çš„å›¾ç‰‡éªŒè¯ç åŠŸèƒ½\n>ç¯å¢ƒï¼šTomcat9ã€Jdk1.8\n>\n## 1 ç”ŸæˆéªŒè¯ç çš„å·¥å…·ç±»\n\n```javascript\npublic class RandomValidateCodeUtil {\n\n\n    public static final String RANDOMCODEKEY= \"RANDOMVALIDATECODEKEY\";//æ”¾åˆ°sessionä¸­çš„key\n    private String randString = \"0123456789\";//éšæœºäº§ç”Ÿåªæœ‰æ•°å­—çš„å­—ç¬¦ä¸² private String\n    //private String randString = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";//éšæœºäº§ç”Ÿåªæœ‰å­—æ¯çš„å­—ç¬¦ä¸²\n    //private String randString = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";//éšæœºäº§ç”Ÿæ•°å­—ä¸å­—æ¯ç»„åˆçš„å­—ç¬¦ä¸²\n    private int width = 95;// å›¾ç‰‡å®½\n    private int height = 25;// å›¾ç‰‡é«˜\n    private int lineSize = 40;// å¹²æ‰°çº¿æ•°é‡\n    private int stringNum = 4;// éšæœºäº§ç”Ÿå­—ç¬¦æ•°é‡\n\n    private static final Logger logger = LoggerFactory.getLogger(RandomValidateCodeUtil.class);\n\n    private Random random = new Random();\n\n    /**\n     * è·å¾—å­—ä½“\n     */\n    private Font getFont() {\n        return new Font(\"Fixedsys\", Font.CENTER_BASELINE, 18);\n    }\n\n    /**\n     * è·å¾—é¢œè‰²\n     */\n    private Color getRandColor(int fc, int bc) {\n        if (fc > 255)\n            fc = 255;\n        if (bc > 255)\n            bc = 255;\n        int r = fc + random.nextInt(bc - fc - 16);\n        int g = fc + random.nextInt(bc - fc - 14);\n        int b = fc + random.nextInt(bc - fc - 18);\n        return new Color(r, g, b);\n    }\n\n    /**\n     * ç”Ÿæˆéšæœºå›¾ç‰‡\n     */\n    public void getRandcode(HttpServletRequest request, HttpServletResponse response) {\n        HttpSession session = request.getSession();\n        // BufferedImageç±»æ˜¯å…·æœ‰ç¼“å†²åŒºçš„Imageç±»,Imageç±»æ˜¯ç”¨äºæè¿°å›¾åƒä¿¡æ¯çš„ç±»\n        BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_BGR);\n        Graphics g = image.getGraphics();// äº§ç”ŸImageå¯¹è±¡çš„Graphicså¯¹è±¡,æ”¹å¯¹è±¡å¯ä»¥åœ¨å›¾åƒä¸Šè¿›è¡Œå„ç§ç»˜åˆ¶æ“ä½œ\n        g.fillRect(0, 0, width, height);//å›¾ç‰‡å¤§å°\n        g.setFont(new Font(\"Times New Roman\", Font.ROMAN_BASELINE, 18));//å­—ä½“å¤§å°\n        g.setColor(getRandColor(110, 133));//å­—ä½“é¢œè‰²\n        // ç»˜åˆ¶å¹²æ‰°çº¿\n        for (int i = 0; i <= lineSize; i++) {\n            drowLine(g);\n        }\n        // ç»˜åˆ¶éšæœºå­—ç¬¦\n        String randomString = \"\";\n        for (int i = 1; i <= stringNum; i++) {\n            randomString = drowString(g, randomString, i);\n        }\n        logger.info(randomString);\n        //å°†ç”Ÿæˆçš„éšæœºå­—ç¬¦ä¸²ä¿å­˜åˆ°sessionä¸­\n        session.removeAttribute(RANDOMCODEKEY);\n        session.setAttribute(RANDOMCODEKEY, randomString);\n        g.dispose();\n        try {\n            // å°†å†…å­˜ä¸­çš„å›¾ç‰‡é€šè¿‡æµåŠ¨å½¢å¼è¾“å‡ºåˆ°å®¢æˆ·ç«¯\n            ImageIO.write(image, \"JPEG\", response.getOutputStream());\n        } catch (Exception e) {\n            logger.error(\"å°†å†…å­˜ä¸­çš„å›¾ç‰‡é€šè¿‡æµåŠ¨å½¢å¼è¾“å‡ºåˆ°å®¢æˆ·ç«¯å¤±è´¥>>>>   \", e);\n        }\n\n    }\n\n    /**\n     * ç»˜åˆ¶å­—ç¬¦ä¸²\n     */\n    private String drowString(Graphics g, String randomString, int i) {\n        g.setFont(getFont());\n        g.setColor(new Color(random.nextInt(101), random.nextInt(111), random\n                .nextInt(121)));\n        String rand = String.valueOf(getRandomString(random.nextInt(randString\n                .length())));\n        randomString += rand;\n        g.translate(random.nextInt(3), random.nextInt(3));\n        g.drawString(rand, 13 * i, 16);\n        return randomString;\n    }\n\n    /**\n     * ç»˜åˆ¶å¹²æ‰°çº¿\n     */\n    private void drowLine(Graphics g) {\n        int x = random.nextInt(width);\n        int y = random.nextInt(height);\n        int xl = random.nextInt(13);\n        int yl = random.nextInt(15);\n        g.drawLine(x, y, x + xl, y + yl);\n    }\n\n    /**\n     * è·å–éšæœºçš„å­—ç¬¦\n     */\n    public String getRandomString(int num) {\n        return String.valueOf(randString.charAt(num));\n    }\n}\n\n```\nè¿™ä¸ªç±»ä¸ç”¨åŠ¨ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨\n## 2 é¡µé¢ä»£ç \n```javascript\n\n<!--html/badyä»£ç -->\n\n<div >\n    <div >\n        <div >\n            <input  type=\"tel\" id=\"verify_input\" placeholder=\"è¯·è¾“å…¥éªŒè¯ç \" maxlength=\"4\">\n        </div>\n    </div>\n    <div >\n        <a href=\"javascript:void(0);\" title=\"ç‚¹å‡»æ›´æ¢éªŒè¯ç \">\n            <img id=\"imgVerify\" src=\"login/getVerify\" alt=\"æ›´æ¢éªŒè¯ç \" height=\"36\" width=\"170\" onclick=\"getVerify(this);\">\n        </a>\n    </div>\n    <input type=\"button\" onclick=\"aVerify()\" value=\"æäº¤\">\n</div>\n</body>\n\n<!--jsä¸­çš„ä»£ç -->\n<script type=\"text/javascript\" src=\"./js/jquery.min.js\"></script>\n<script>\n\n    //è·å–éªŒè¯ç \n    /*function getVerify(obj){\n        obj.src =  \"login/getVerify?\"+Math.random();//åŸç”Ÿjsæ–¹å¼\n    }*/\n\t\n\t//è·å–éªŒè¯ç \n    function getVerify() {\n        // $(\"#imgCode\").on(\"click\", function() {\n        $(\"#imgVerify\").attr(\"src\", 'login/getVerify?' + Math.random());//jqueryæ–¹å¼\n        // });\n    }\n\n    function aVerify(){\n        var value =$(\"#verify_input\").val();\n        // alert(value);\n        $.ajax({\n            async: false,\n            type: 'post',\n            url: 'login/checkVerify',\n            dataType: \"json\",\n            data: {\n                verifyInput: value\n            },\n            success: function (result) {\n                if (result) {\n                    alert(\"success!\");\n                } else {\n                    alert(\"failed!\");\n                }\n                // window.location.reload();\n                getVerify();\n            }\n        });\n    }\n</script>\n```\n\n> æ³¨æ„ï¼šè¿™é‡Œæœ‰2ç§è·å–éªŒè¯ç å›¾ç‰‡çš„æ–¹æ³•\n## 3 è·å–codeå’ŒéªŒè¯codeçš„ç±»\n```java\n@RestController\n@RequestMapping(\"/login\")\npublic class Picverifyaction {\n    private final static Logger logger = LoggerFactory.getLogger(Picverifyaction.class);\n\n    /**\n     * ç”ŸæˆéªŒè¯ç \n     */\n    @RequestMapping(value = \"/getVerify\")\n    public void getVerify(HttpServletRequest request, HttpServletResponse response) {\n        try {\n            response.setContentType(\"image/jpeg\");//è®¾ç½®ç›¸åº”ç±»å‹,å‘Šè¯‰æµè§ˆå™¨è¾“å‡ºçš„å†…å®¹ä¸ºå›¾ç‰‡\n            response.setHeader(\"Pragma\", \"No-cache\");//è®¾ç½®å“åº”å¤´ä¿¡æ¯ï¼Œå‘Šè¯‰æµè§ˆå™¨ä¸è¦ç¼“å­˜æ­¤å†…å®¹\n            response.setHeader(\"Cache-Control\", \"no-cache\");\n            response.setDateHeader(\"Expire\", 0);\n            RandomValidateCodeUtil randomValidateCode = new RandomValidateCodeUtil();\n            randomValidateCode.getRandcode(request, response);//è¾“å‡ºéªŒè¯ç å›¾ç‰‡æ–¹æ³•\n        } catch (Exception e) {\n            logger.error(\"è·å–éªŒè¯ç å¤±è´¥>>>>   \", e);\n        }\n    }\n\n    /**\n     * æ ¡éªŒéªŒè¯ç \n     */\n    @RequestMapping(value = \"/checkVerify\", method = RequestMethod.POST,headers = \"Accept=application/json\")\n    public boolean checkVerify(@RequestParam String verifyInput, HttpSession session) {\n        try{\n            //ä»sessionä¸­è·å–éšæœºæ•°\n            String inputStr = verifyInput;\n            String random = (String) session.getAttribute(\"RANDOMVALIDATECODEKEY\");\n            if (random == null) {\n                return false;\n            }\n            if (random.equals(inputStr)) {\n                return true;\n            } else {\n                return false;\n            }\n        }catch (Exception e){\n            logger.error(\"éªŒè¯ç æ ¡éªŒå¤±è´¥\", e);\n            return false;\n        }\n    }\n\n}\n```\n## 4 æ•ˆæœå›¾é•‡æ¥¼\n![](springbootç™»é™†é¡µé¢å›¾ç‰‡éªŒè¯ç ç®€å•çš„webé¡¹ç›®/Snipaste_2019-04-02_17-10-15.png)\n## 5 æºç \nå½“ç„¶ä¸Šé¢ä»£ç åªæ˜¯æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¦‚æœæœ‰é—®é¢˜å¯å»githubè‡ªè¡Œä¸‹è½½ [charmsongo](https://github.com/charmsongo/pictureverifycode)\n>å¦‚æœæœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ³•æ¬¢è¿ç•™è¨€\n\n","tags":["Java","Tomcat","JS","éªŒè¯"]},{"title":"JavaWeb é¡¹ç›®ä¸ç³»ç»Ÿæ—¶é—´ç›¸å·® 8 ä¸ªå°æ—¶çš„é—®é¢˜","url":"/2019/03/31/JavaWeb-é¡¹ç›®ä¸ç³»ç»Ÿæ—¶é—´ç›¸å·®-8-ä¸ªå°æ—¶çš„é—®é¢˜/","content":"\n# å†™åœ¨å‰é¢\n\nä»Šå¤©è®°å½•åˆ†äº«ä¸€ä¸ªæ’æŸ¥éƒ¨ç½²åˆ° Linux ä¸Šçš„ web é¡¹ç›®æ‰§è¡Œçš„æ—¶é—´å’Œæœ¬åœ°ç³»ç»Ÿæ—¶é—´ç›¸å·® 8 å°æ—¶çš„é—®é¢˜\n>ç¯å¢ƒï¼šredhat 6.5\n>è€ƒè™‘æœ‰è§„å¾‹çš„æ—¶é—´å·®å¯èƒ½å’Œæ—¶åŒºä¸åŒæœ‰å…³\n\n## 1 æŸ¥çœ‹ Linux ç³»ç»Ÿæ—¶é—´å’Œæ—¶åŒº\n```javascript\n[root@localhost ~]# date\n2019å¹´ 03æœˆ 31æ—¥ æ˜ŸæœŸæ—¥ 16:00:32 CST\n[root@localhost ~]# date -R\nSun, 31 Mar 2019 16:00:44 +0800\n[root@localhost ~]# date +\"%Z %z\"\nCST +0800\n```\nä»è¿™é‡Œå¯ä»¥ç¡®å®šï¼Œç³»ç»Ÿçš„æ—¶é—´å’Œæ—¶åŒºæ­£å¸¸ï¼ˆåŒ—äº¬æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ä¸œå…«åŒºï¼‰ï¼Œæ—¶åŒºè¯¦æƒ…è¯·çœ‹[è¿™é‡Œ](https://blog.csdn.net/ensoo/article/details/7527615)\n## 2 æŸ¥çœ‹ jvm æ—¶é—´å’Œæ—¶åŒº\n\n2.1 å…ˆåœ¨ Linux ä¸ŠæŸä¸ªç›®å½•æ‰§è¡Œ javac ï¼Œçœ‹ javac å‘½ä»¤æ˜¯å¦å¯ç”¨,å‡ºç°å¦‚ä¸‹æ˜¾ç¤ºå°±å¯ä»¥ï¼ˆä¸­é—´éƒ¨åˆ†å·²çœç•¥ï¼‰\n```javascript\n[root@localhost test]# javac\nç”¨æ³•: javac <options> <source files>\nå…¶ä¸­, å¯èƒ½çš„é€‰é¡¹åŒ…æ‹¬:\n  -g                         ç”Ÿæˆæ‰€æœ‰è°ƒè¯•ä¿¡æ¯\n  -g:none                    ä¸ç”Ÿæˆä»»ä½•è°ƒè¯•ä¿¡æ¯\n  -g:{lines,vars,source}     åªç”ŸæˆæŸäº›è°ƒè¯•ä¿¡æ¯\n  ......\n  -X                         è¾“å‡ºéæ ‡å‡†é€‰é¡¹çš„æè¦\n  -J<æ ‡è®°>                     ç›´æ¥å°† <æ ‡è®°> ä¼ é€’ç»™è¿è¡Œæ—¶ç³»ç»Ÿ\n  -Werror                    å‡ºç°è­¦å‘Šæ—¶ç»ˆæ­¢ç¼–è¯‘\n  @<æ–‡ä»¶å>                     ä»æ–‡ä»¶è¯»å–é€‰é¡¹å’Œæ–‡ä»¶å\n```\n\n2.2  ç¼–å†™æµ‹è¯•ç¨‹åº\n```java\nimport java.util.TimeZone;\nimport java.util.Date;\n\npublic class time {\n    public static void main(String[] args) {\n        System.out.println(\"å½“å‰æ—¶é—´ï¼š\"+new Date());\n        System.out.println(\"å½“å‰é»˜è®¤æ—¶åŒºï¼š\"+TimeZone.getDefault());\n    }\n}\n```\n2.3 ç¼–è¯‘æ‰§è¡Œ\n\n```java\n[root@localhost test]# javac time.java \n[root@localhost test]# ll\næ€»ç”¨é‡ 8\n-rw-r--r-- 1 root root 780 3æœˆ  31 16:02 time.class\n-rw-r--r-- 1 root root 239 3æœˆ  31 16:00 time.java\n[root@localhost test]# java time\nå½“å‰æ—¶é—´ï¼šSun Mar 31 08:02:34 CTM 2019\nå½“å‰é»˜è®¤æ—¶åŒºï¼šsun.util.calendar.ZoneInfo[id=\"GTM\",offset=28800000,dstSavings=0,useDaylight=false,transitions=29,lastRule=null]\n```\nè¿™é‡Œæœ‰å¯¼å…¶ä»–çš„åŒ…ï¼Œå¦‚æœä»¥ä¸Šå‘½ä»¤ä¸å¥½ä½¿ï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ ï¼ˆä¸­é—´çš„ç‚¹ . æ˜¯å½“å‰ç›®å½•çš„æ„æ€ï¼‰\n```java\n[root@localhost test]# javac -d . time.java\n[root@localhost test]# ll\næ€»ç”¨é‡ 8\n-rw-r--r-- 1 root root 780 3æœˆ  31 16:03 time.class\n-rw-r--r-- 1 root root 239 3æœˆ  31 11:00 time.java\n[root@localhost test]# java -cp . time\nå½“å‰æ—¶é—´ï¼šSun Mar 31 08:02:40 CST 2019\nå½“å‰é»˜è®¤æ—¶åŒºï¼šsun.util.calendar.ZoneInfo[id=\"GTM\",offset=28800000,dstSavings=0,useDaylight=false,transitions=29,lastRule=null]\n```\n> è¿™é‡Œæ˜¾ç„¶ jvm çš„æ—¶é—´æ¯”ç³»ç»Ÿçš„æ—¶é—´æ—©äº† 8 ä¸ªå°æ—¶ï¼Œä¸”æ˜¯æ ¼æ—å¨æ²»çš„æ—¶åŒºï¼Œæ‰€ä»¥è¿™é‡Œä¿®æ”¹ jvm çš„æ—¶åŒºå³å¯ï¼Œè¿™é‡Œè¯´ä¸‹ï¼Œç½‘ä¸ŠæŸ¥è¯¢è¯´ jvm çš„æ—¶åŒºé»˜è®¤è¯»å–çš„æ˜¯ç¡¬ä»¶æ—¶åŒºï¼Œç›®å½•ä¸º /etc/sysconfig/clock ï¼ˆ[è¯¦æƒ…](http://rashost.com/blog/centos-timezone-configure)ï¼‰ï¼ŒæŸ¥çœ‹å¦‚ä¸‹\n\n```java\n[root@localhost test]# cat /etc/sysconfig/clock \nZONE=\"Asia/Shanghai\"\n```\n\n> ä¸ç½‘ä¸Šå¯¹æ¯”ï¼Œè¿™é‡Œæ²¡æœ‰ä¸‹é¢è¿™ä¸¤è¡Œ\n```java\nUTC=false\nARC=false\n```\n> è¿™é‡Œçœ‹æœ‰äººè¯´æ˜¯æ²¡æœ‰è®¾ç½® UTC=false å¯¼è‡´çš„é—®é¢˜ï¼ŒæŸ¥çœ‹èµ„æ–™è¯´ UTC æŒ‡å®š BIOS ä¸­ä¿å­˜çš„æ—¶é—´æ˜¯å¦æ˜¯ GMT/UTC æ—¶é—´ï¼Œtrue è¡¨ç¤º BIOS é‡Œé¢ä¿å­˜çš„æ—¶é—´æ˜¯ UTC æ—¶é—´ï¼Œfalse è¡¨ç¤º BIOS é‡Œé¢ä¿å­˜çš„æ—¶é—´æ˜¯æœ¬åœ°æ—¶é—´ã€‚\n> åŠ ä¸Šåæœ‰çš„æœºå™¨è¿˜æ˜¯ä¸å¥½ä½¿ï¼Œå¦‚æœæ˜¯åœ¨ tomcat ä¸‹è¿è¡Œçš„é¡¹ç›®ï¼Œé‚£å°±é‡å¯ tomcat å³å¯ã€‚\n\nå¦‚æœè¿˜ä¸å¥½ä½¿ï¼Œè¿˜æœ‰ä¿®æ”¹ tomcat é…ç½®æ–‡ä»¶çš„æ–¹æ³•ï¼Œæ¬¢è¿å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š[Tomcatä¿®æ”¹æ—¥æœŸçš„æ—¶åŒº](https://blog.csdn.net/qq_29175301/article/details/81326823)\n\n>ç°åœ¨é—®é¢˜åŸºæœ¬å·²è§£å†³ï¼Œä»¥ä¸Šæœ‰äº›å†…å®¹æ˜¯å®¢æˆ·ç°åœºå‡ºç°çš„ï¼Œæ‰€ä»¥ç°åœ¨è®°å½•æ—¶ä¹Ÿæ˜¯å‡­ç¬”è®°å’Œè®°å¿†å›å¿†çš„ï¼Œå¦‚æœ‰åå·®ä¹Ÿè¯·ä¸åèµæ•™ã€‚\n\næ–‡ç« å‚è€ƒï¼šhttps://blog.csdn.net/liqinghuiyx/article/details/53333284","tags":["Linux","Jvm","Java","æ—¶åŒº","æ—¶é—´"]},{"title":"äº¦å¤§äº¦å°å¦‚ä½ --MySQL","url":"/2019/03/09/äº¦å¤§äº¦å°å¦‚ä½ -MySQL/","content":"\n# å†™åœ¨å‰é¢\nMySQL æ˜¯ä¸ªç¥å¥‡çš„å…³ç³»å‹æ•°æ®åº“ï¼ŒçœŸå¿ƒæ„Ÿè§‰ç‰›é€¼ï¼Œå› ä¸ºåšçš„é¡¹ç›®æ¯”è¾ƒæ‚ï¼Œä¹‹å‰ä¹Ÿç¢°åˆ°è¿‡ Oracle æ•°æ®åº“ï¼Œç»™æˆ‘çš„å°è±¡æ˜¯ Oracle å¾ˆè‡ƒè‚¿ç¹çï¼Œé…ç½®å¤šï¼Œå¦‚æœæ˜¯å°é¡¹ç›®ç”¨å®ƒçš„è¯æ„Ÿè§‰å°±åƒæ˜¯æ€é¸¡ç”¨ç‰›åˆ€ï¼Œå¤§æå°ç”¨ã€‚ä½†æ˜¯ä¹Ÿä¸æ˜¯è¯´Mysqlä¸èƒ½ç”¨äºå¤§é¡¹ç›®ï¼ŒMySQL å¼€å…ƒå…è´¹ï¼Œæ˜¯ç°åœ¨å…³ç³»å‹æ•°æ®åº“çš„ä¸»æµäº§å“ï¼Œç½‘ä¸Šç›¸åº”çš„æ–‡æ¡£å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆä¹Ÿä¼šå¾ˆå¤šï¼Œæ„æ€å°±æ˜¯æ¯”å¦‚èœé¸Ÿå¦‚æˆ‘ç¢°åˆ°äº†Mysqlå‡ºçš„é—®é¢˜ï¼Œç½‘ä¸ŠåŸºæœ¬ä¸Šå¾ˆå…¨ã€‚\n>ç³»ç»Ÿç¯å¢ƒ Debain 7\n>Mysql  5.6\n\n\n## 1.MySQL ç®€å•æ“ä½œå‘½ä»¤\n```javascript\n//1.ç™»å½•mysqlï¼Œæ‹¬å·ä¸­çš„ä¸ºå¯é€‰é¡¹ï¼Œ$ï¼ˆåŒ…æ‹¬$ï¼‰åé¢ä¸ºå®é™…æ•°æ®ï¼Œ-Dæ˜¯æŒ‡å®šæ•°æ®åº“ç™»å½•\nmysql (-h$host) (-P$port) -u$user -p$pwd (-D$dbname)  //åœ°å€ ç«¯å£ è´¦å· å¯†ç  æ•°æ®åº“å\n\n//2.åˆ é™¤ã€åˆ›å»ºæ•°æ®åº“\ndrop database dbname; //åˆ é™¤æ•°æ®åº“\ncreate database dbname charset utf8   //åˆ›å»ºæ•°æ®åº“\n\n//3.åˆ é™¤ã€åˆ›å»ºæ•°æ®åº“è¡¨\ndrop table tablename;//åˆ é™¤è¡¨\ncreate table tablename(id int, name varchar(80)); //åˆ›å»ºè¡¨\n\n//4.è¡¨æ“ä½œ\nshow triggers\\g / show triggers; //æŸ¥çœ‹è§¦å‘å™¨\nshow variables like 'character_set_database'; //æŸ¥çœ‹åº“ç¼–ç \ndesc tablename; //æŸ¥çœ‹è¡¨ç»“æ„\nselect current_date(); //æŸ¥çœ‹è¡¨åˆ›å»ºæ—¶é—´\n\n//5.å¯¼å…¥sqlæ–‡ä»¶\nuse dbname;source /dbname.sql; //æ‰§è¡Œ sql æ–‡ä»¶\n\n//6.å½“å‰çš„è¿æ¥æƒ…å†µ\nselect current_user(); //æŸ¥çœ‹å½“å‰ç™»å½•è´¦å·\nshow processlist; //æŸ¥çœ‹å½“å‰è¿›ç¨‹\nshow full processlist;//æŸ¥çœ‹å½“å‰å…¨éƒ¨è¿›ç¨‹\nselect user,host,Super_priv from mysql.user; //æŸ¥çœ‹æ‰€æœ‰å¯è¿æ¥ç”¨æˆ·ã€åœ°å€å’Œæƒé™ä¿¡æ¯\nï¼ˆSuper_priv ç”¨æˆ·æœ‰superæƒé™æ‰å¯ä»¥å¯¼å…¥æ•°æ®ï¼‰\ngrant all privileges on *.* to root@'%' identified by 'root' with grant option;flush privileges; //ç»™rootç”¨æˆ·è¿œç¨‹ç™»å½•çš„æ‰€æœ‰æƒé™\n```\n\n## 2.è‡ªåŠ¨å¯¼å…¥sqlæ–‡ä»¶\t\n### 2.1 shellæ“ä½œ\n```javascript\n#åˆ›å»º createDb.shï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n#!/bin/bash\n#é€šè¿‡ shell è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“å’Œè¡¨ç»“æ„\nhost=$1 #åœ°å€\nport=$2 #ç«¯å£\nuser=$3 #è´¦å·\npwd=$4 #å¯†ç \ndbname=$5 #æ•°æ®åº“å\npath=$6 #sql æ–‡ä»¶è·¯å¾„\n\nmysql -h$host -P$port -u$user -p$pwd <<EOF\n\ndrop database if exists $dbname;create database $dbname charset utf8;\n\nuse $dbname;\n\nsource $path\n\nCOMMIT;\nEOF\n\n#æŸ¥çœ‹ shell çš„æ‰§è¡Œè¿‡ç¨‹å‘½ä»¤\nsh -x ./shell //æŸ¥çœ‹ shell æ‰§è¡Œè¿‡ç¨‹\n```\n### 2.2 expectæ“ä½œ\n```javascript\n#!/usr/bin/expect -f\n\nset timeout 10\nset host [lindex $argv 0]\nset port [lindex $argv 1]\nset user [lindex $argv 2]\nset pwd [lindex $argv 3]\nset dbname [lindex $argv 4]\nset path [lindex $argv 5]\nset cset [lindex $argv 6] #å­—ç¬¦ç¼–ç \n\nspawn mysql -h$host -P$port -u$user -p\nexpect \"Enter password: \"\nsend \"$pwd\\r\"\n\nexpect \"mysql> \"\nsend \"drop database if exists $dbname;create database $dbname charset $cset;\\r\"\n\nexpect \"mysql> \"\nsend \"use $dbname;\\r\"\n\nexpect \"mysql> \"\nsend \"source $path;\\r\"\n\nexpect \"mysql> \"\nsend \"exit\\r\"\n\ninteract\n```\n> å›å¤´ç ”ç©¶å†æ›´æ–°æ“ä½œï¼Œæœ‰å“ªé‡Œå†™çš„ä¸å¯¹çš„ä¹Ÿè¯·ä¸åèµæ•™\n","tags":["Linux","CentOS","MySQL","Shell","Expect"]},{"title":"LInuxä¸‹å¦‚ä½•æŒ‚è½½å…‰ç›˜æ‰¾rpmåŒ…ï¼Ÿ","url":"/2019/03/03/LInuxä¸‹å¦‚ä½•æŒ‚è½½å…‰ç›˜æ‰¾rpmåŒ…ï¼Ÿ/","content":"\n# å†™åœ¨å‰é¢\nLinux ä½¿ç”¨æœ‰æ—¶éœ€è¦å®‰è£…è½¯ä»¶ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡ yum å‘½ä»¤æ¥åœ¨çº¿å®‰è£…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹è½½å¥½çš„ rpm åŒ…æ¥è¿›è¡Œå®‰è£…ï¼Œä½†æ˜¯ rpm å®‰è£…éœ€è¦è‡ªå·±æ¥æ‰¾å®‰è£…è½¯ä»¶æ‰€ä¾èµ–çš„ rpm åŒ…ã€‚ä»Šå¤©å°±æ¥å°è¯•æ“ä½œä¸‹\n>ç³»ç»Ÿç¯å¢ƒ CentOS 7.5\n>[root@localhost /]# cat /etc/redhat-release \nCentOS Linux release 7.5.1804 (Core)\n\n## 1.æ‰¾åˆ°å…‰ç›˜çš„å…¨è·¯å¾„\n```javascript\n[root@localhost /]# ls -l /dev | grep cdrom\nlrwxrwxrwx 1 root root           3 3æœˆ   3 09:32 cdrom -> sr0\ncrw-rw---- 1 root cdrom    21,   1 3æœˆ   3 09:32 sg1\nbrw-rw---- 1 root cdrom    11,   0 3æœˆ   3 09:32 sr0\n```\nè¿™ä¸ªå‘½ä»¤çŸ¥é“äº†å…‰ç›˜çš„åå­—å«ï¼šcdromï¼Œé‚£å…‰ç›˜çš„è·¯å¾„å°±æ˜¯ /dev/cdrom\n## 2.æŒ‚è½½å…‰ç›˜\n```javascript\n[root@localhost /]# mount /dev/cdrom /mnt\nmount: /dev/sr0 å†™ä¿æŠ¤ï¼Œå°†ä»¥åªè¯»æ–¹å¼æŒ‚è½½\n```\n\n> è¿™ä¸ªå‘½ä»¤æ˜¯æŠŠç›®å½• /dev/cdrom çš„å†…å®¹åŠ è½½åˆ°äº†ç›®å½• /mnt ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¯´ç›®å½• /mnt ä¸‹å¯ä»¥è®¿é—®ç›®å½• /dev/cdrom ä¸­çš„å†…å®¹äº†ï¼Œå‡ºç°å¦‚ä¸‹å†…å®¹å°±æŒ‚è½½æˆåŠŸäº†\n\n```javascript\n[root@localhost /]# cd /mnt/\n[root@localhost mnt]# ls\nCentOS_BuildTag  EULA images LiveOS  repodata  RPM-GPG-KEY-CentOS-Testing-77EFI GPL   isolinux  Packages  RPM-GPG-KEY-CentOS-7  TRANS.TBL\n```\n\n## 3.æ‹·è´ç›®æ ‡rpmåŒ…\n\n> è¿›å…¥åˆšæ‰çš„ç›®å½• Packages ï¼Œç„¶åæ‰¾åˆ°ç›®æ ‡rpmåŒ…ï¼Œè¿™é‡Œä»¥ã€Œtelnet å®¢æˆ·ç«¯ã€ä¸ºä¾‹\n\n```java\n[root@localhost mnt]# cd Packages/\n[root@localhost Packages]# ls -l | grep telnet\n-rw-rw-r-- 2 root root    65632 8æœˆ  11 2017 telnet-0.17-64.el7.x86_64.rpm\n-rw-rw-r-- 2 root root    41804 8æœˆ  11 2017 telnet-server-0.17-64.el7.x86_64.rpm\n```\n\nè¿™é‡Œå‡ºæ¥ 2 ä¸ªï¼Œä½†æ˜¯çœ‹åç§°å¯ä»¥æ˜ç™½ç¬¬ä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯ï¼Œå¦ä¸€ä¸ªæ˜¯æœåŠ¡ç«¯ï¼Œè¿™é‡Œé€‰æ‹©ç¬¬ä¸€ä¸ªå³å¯ï¼Œç„¶åå¤åˆ¶åˆ° /root ä¸‹ï¼Œå‡ºç°å¦‚ä¸‹ç»“æœå³æˆåŠŸ\n```java\n[root@localhost Packages]# cp telnet-0.17-64.el7.x86_64.rpm /root/\n[root@localhost Packages]# ls -l /root\næ€»ç”¨é‡ 72\n-rw-------. 1 root root  1569 6æœˆ   3 2018 anaconda-ks.cfg\n-rw-r--r--  1 root root 65632 3æœˆ   3 10:08 telnet-0.17-64.el7.x86_64.rpm\n-rw-r--r--. 1 root root     0 6æœˆ  30 2018 ????.txt\n```\n## 4.å¸è½½å…‰ç›˜\nçŸ¥é“ç›®æ ‡rpmåŒ…åï¼Œè¦è®°å¾—å¸è½½å…‰ç›˜å“¦ï¼ï¼ˆ**å…ˆåˆ‡å‡ºç›®å½• /mnt**ï¼‰\n```java\n[root@localhost Packages]# cd /\n[root@localhost /]# umount /mnt/\n[root@localhost /]# ls -l /mnt/\næ€»ç”¨é‡ 0\n```\n## 5.å®‰è£…æ‹·è´çš„rpmåŒ…\n```java\n[root@localhost /]# cd root/\n[root@localhost ~]# rpm -ivh telnet-0.17-64.el7.x86_64.rpm \nå‡†å¤‡ä¸­...                          ################################# [100%]\n        è½¯ä»¶åŒ… telnet-1:0.17-64.el7.x86_64 å·²ç»å®‰è£…\n[root@localhost ~]# telnet\ntelnet> \n```\n\n> å‡ºç°å¦‚ä¸Šå†…å®¹è¯´æ˜ telnet å®¢æˆ·ç«¯å·²ç»å®‰è£…æˆåŠŸï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ\n","tags":["Linux","rpm","æŒ‚è½½å…‰ç›˜","CentOS"]},{"title":"è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„","url":"/2019/02/07/è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„/","content":"![è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„](è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„/é•¿å¤§.jpg)\n\nä½ ä»å°åˆ°å¤§æœ‰å¤šå°‘å†³å®šæ˜¯ä¸ºè‡ªå·±åšçš„ï¼Œæœ‰å¤šå°‘æ˜¯ä¸ºä»–äººå†³å®šçš„æˆ–è€…è¯´æ˜¯è¢«ä»–äººå†³å®šçš„ï¼Ÿ\n\nä»å°è¢«æ•™è‚²æ˜¯è¦å¬å¦ˆå¦ˆçš„è¯ï¼Œè¿™ç§æ€æƒ³è¿˜è¢«å‘¨è‘£è½½å…¥äº†éŸ³ä¹ï¼Œä½ åˆ«è¯´ï¼Œå¬ç€è¿˜çœŸå¥½å¬ã€‚æ˜¯ çš„ï¼Œå°å­©å­å¤©ç”Ÿè°ƒçš®ï¼Œé—¹è…¾ï¼Œå¬è¯çš„ç›´æ¥ç»“æœå°±æ˜¯çˆ¶æ¯ä¼šè½»æ¾å¾ˆå¤šï¼Œè€Œä¸”å†œæ‘é•¿å¤§çš„å­©å­éƒ½æ˜ç™½ï¼Œçˆ¶æ¯ä¸ºäº†ç”Ÿè®¡ä¼šç»å¸¸å¿™äºå¥”æ³¢ï¼ŒåŸºæœ¬æ²¡æ—¶é—´ç…§é¡¾ä¸Šå­¦åçš„å­©å­ï¼Œå¬è¯è¿™ä¸ªæ–¹å¼çœ‹èµ·æ¥ä¼šè®©çˆ¶æ¯å°‘å¾ˆå¤šæ•™è‚²çš„æˆæœ¬ï¼Œä½†æ˜¯ï¼Œäº‹å®çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ\n\nå¤§å®¶çŸ¥é“æœ‰ä¸€äº›ç—…ç—‡æ˜¯æœ‰æ½œä¼æœŸçš„ï¼Œå½“ç„¶å¬å¦ˆå¦ˆè¯çš„è¿™ç§æ•™è‚²æ–¹å¼ä¹Ÿæ˜¯æœ‰åå™¬çš„æ½œä¼æœŸçš„ï¼Œå®ƒä¼šå‰¥å¤ºå­©å­çš„ç–‘é—®å’Œæ€è€ƒäº‹æƒ…çš„è¿‡ç¨‹ï¼Œè¿˜æœ‰ è‡ªæˆ‘æ”¹å˜çš„åŠ¨åŠ›ï¼Œå­©å­é•¿å¤§åå°±ä¼šç¼ºå¤±åŸºæœ¬æŠ‰æ‹©çš„èƒ½åŠ›ã€‚ä¼šå¯¹çˆ¶æ¯äº§ç”Ÿä¾èµ–ï¼Œ18å²æœ¬æ˜¯æˆå¹´çš„åˆ†ç•Œå¹´é¾„ï¼Œä¹‹åçš„äº‹æƒ…è‡ªå·±å®Œå…¨æœ‰æƒåˆ©è‡ªå·±åšå†³å®šï¼Œä½†æ˜¯è§è¿‡ä¸å°‘ï¼Œå¤„å¯¹è±¡å’Œç»“å©šéƒ½è¦ç»è¿‡çˆ¶æ¯çš„å†³å®šå’Œé€‰æ‹©ï¼Œå·¥ä½œä¸é¡ºåˆ©ï¼Œé—®é—®çˆ¶æ¯è¦ä¸è¦ç¦»èŒå†æ‰¾ï¼Œå½“ç„¶çˆ¶æ¯ä¸€èˆ¬çš„å›ç­”æ˜¯æœ‰å·¥ä½œå¹²ç€å°±ä¸é”™äº†ã€‚è¡£æœä¹Ÿè¦çˆ¶æ¯æ¥ä¹°æˆ–è€…æ˜¯å¥½çœ‹ä¸å¥½çœ‹çˆ¶æ¯è¯´äº†ç®—......\n\næˆ‘ä»¬æ›¾ç»æ˜¯ä¸ªå­©å­ï¼Œä½†ç»ˆç©¶æ˜¯è¦é•¿å¤§çš„ï¼Œçˆ¶æ¯ä¸èƒ½é™ªæˆ‘ä»¬ä¸€è¾ˆå­ï¼Œçˆ¶æ¯ä¹Ÿç»ˆä¼šå˜è€ï¼Œå˜æˆè€å°å­©ï¼Œä¹Ÿéœ€è¦ä¾é æˆ‘ä»¬æ¥æŠ‰æ‹©ï¼Œæœ‰äº›äº‹æƒ…å°±æ˜¯è¦è‡ªå·±å»åšå†³å®šçš„ã€‚ç¬¬ä¸€æ‰¹ 90 åéƒ½å·²ç» 30 å²äº†ï¼Œä½œä¸ºå¥”ä¸‰çš„äººäº†ï¼Œä¸å¾—ä¸é€¼ç€è‡ªå·±é•¿å¤§ï¼Œå®¶åº­ä¸»æ¢çš„æ¥åŠ›æ£’æˆ‘ä»¬è¦å°è¯•ç€æ¥è¿‡æ¥äº†ï¼Œè¯¥ä¸ºçˆ¶æ¯æ‰¿æ‹…å®¶åº­çš„å‹åŠ›äº†ã€‚\n\nç°åœ¨æ„Ÿè§‰çˆ¶æ¯å¤„ç†çš„ä¸€äº›äº‹æƒ…ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œè¯·ä¸è¦åŸ‹æ€¨å¥¹ä»¬ï¼Œå¥¹ä»¬æ²¡æœ‰é”™ï¼Œåªæ˜¯çˆ¶æ¯åœ¨å˜è€ï¼Œå¥¹ä»¬æ›¿æˆ‘ä»¬åšäº†æœ¬è¯¥æˆ‘ä»¬æ¥æŠ‰æ‹©çš„æŠ‰æ‹©ã€‚\n\n![è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„](è°ˆä¸€è°ˆä½ æœ‰å¤šå°‘å†³å®šæ˜¯çˆ¶æ¯å†³å®šçš„/å¾®ä¿¡äºŒç»´ç .png)","tags":["æˆé•¿","æ€æƒ³","äººç”Ÿ"]},{"title":"è¿Ÿåˆ°ä½†é‡è¦çš„äº‹","url":"/2019/01/31/è¿Ÿåˆ°ä½†é‡è¦çš„äº‹/","content":"\n![è¿Ÿåˆ°ä½†é‡è¦çš„äº‹](è¿Ÿåˆ°ä½†é‡è¦çš„äº‹/001.jpg)\n> å¥½ä¹…æ²¡æ›´æ–‡äº†ï¼Œä¸€æ¥å¹´åº•äº†å…¬å¸æœ‰äº›é¡¹ç›®ç»“å°¾éå¸¸å¿™ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æ¥å£ï¼ŒäºŒæ¥è‡ªå·±æœ€è¿‘ä¸çŸ¥é“è¯¥å†™ç‚¹ä»€ä¹ˆï¼Œæœ¬æ¥ 2018 å¹´é˜³å† 12 æœˆæœ‰ä»½æ€»ç»“ä¸€ç›´æ²¡æ¥çš„åŠå‘ï¼Œå°±è¶è¿™ä¸ªæœºä¼šè®°å½•ä¸‹ã€‚\n\n30 å·åŠå¤œé†’æ¥åï¼Œç¡æ„å…¨æ— ï¼Œå¿ƒé‡Œæœ‰äº‹ï¼Œå°±ä¼šä¼‘æ¯ä¸å¥½ï¼Œäº‹å®ç¡®å®å¦‚æ­¤ï¼Œæƒ³æƒ³è¿™ä¸ªæ¯›ç—…ä¹Ÿæ˜¯é«˜è€ƒåé—ç—‡å§ï¼Œæ€è€ƒå¤ªå¤šï¼Œåšçš„å¤ªå°‘ï¼Œè‡ªå·±çŸ¥é“è¿™ä¸ªé“ç†ï¼Œæœ‰æ—¶å€™èº«è¾¹å°±æ˜¯å°‘ä¸ªå¯ä»¥æç‚¹è‡ªå·±çš„äººï¼Œè¿™ä¸ªäººæœ€å¥½æ˜¯å‰è¾ˆï¼Œä¸ç„¶æ„Ÿè§‰æˆ‘è‡ªå·±æ¥å—çš„å±‚åº¦ä¸å¤Ÿï¼Œè¿˜è¦å°±æ˜¯è‡ªå·±çš„æ‰§è¡ŒåŠ›äº†ï¼Œæƒ³åšå°±å»åšã€‚\n\né™ˆè°·å­çƒ‚èŠéº»æ‰¯çš®å®Œå•¦ï¼Œè¯´ä¸‹å›°æ‰°è‡ªå·±çš„äº‹æƒ…ï¼Œæ´»è¿™ä¹ˆå¤§ï¼Œæ€»æ˜¯æœ‰äº›äº‹æƒ³ä¸å¼€ï¼Œä½†æ˜¯è§£ä¸å¼€åˆæ•…æ­¥è‡ªå°ï¼Œä¸èƒ½æ²¡æœ‰ä¸€ç‚¹è¿›å±•ï¼Œè¿·èŒ«å›°æ‰°ç€è‡ªå·±ï¼Œ25 å²äº†ï¼Œæˆ‘æŠŠäººç”Ÿä»¥ 10 å¹´åˆ’åˆ†ä¸€ä¸ªé˜¶æ®µï¼Œæˆ‘é¢„è®¡å…ˆåˆ’åˆ† 4 ä¸ªé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯åˆ° 65ï¼Œæˆ‘å¸Œæœ›è‡ªå·±å¯ä»¥é€‰ä¸€ä¸ªå¯ä»¥æŒä¹…åšæŒä¸‹å»çš„ä¸€ä¸ªæ–¹å‘ï¼Œè‡ªå·±å¯ä»¥æˆé•¿ï¼Œè‡ªå·±å¯ä»¥è·åˆ©ï¼Œä¹Ÿå¯ä»¥æ²‰æ·€ã€‚æˆ‘æƒ³å†™ä½œæ˜¯è¿™ä¸ªæ–¹å‘ï¼Œä¹Ÿæœ‰å¥½å¤šäººç¡®å®é‰´å®šäº†è¿™ç‚¹ï¼Œä½†ä»¥æˆ‘ä¸€ä¸ªç†ç§‘ç”·çš„è§’åº¦æ¥è¯´ï¼Œå¾ˆéš¾ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–‡é‡‡ï¼Œæ„Ÿè§‰å¾ˆä¼¤ï¼Œä½†æ˜¯ä¸ºä½•ä¸å…ˆå°è¯•å‘¢ï¼Œè¶ç€å¹´è½»ï¼Œå¤šå°è¯•çŠ¯é”™ï¼Œç¬¬ä¸€ä¸ªåå¹´å°±æ˜¯è¿™æ ·çš„æœºä¼šï¼Œå¦‚æœ 35 ï¼Œå²ä¹‹å‰è¿˜æ˜¯æ²¡æœ‰ä»€ä¹ˆæˆæ•ˆæˆ–è€…å¥½çš„æ–¹å‘çš„è¯ï¼Œé‚£ä¹ˆä¹Ÿå°±åªèƒ½è®¤å‘½äº†ï¼Œè‡ªå·±è¾›è‹¦ç‚¹ï¼ŒåŸ¹å…»ä¸‹ä¸€ä»£å‡ºæ¯å§ã€‚\n\n**æˆ‘ä¹Ÿåˆæ­¥æ‹Ÿå®šäº†å‡ ä¸ªæ–¹å‘ï¼š**\n\n 1. ã€Œèº«ä½“ã€èº«ä½“æ˜¯é©å‘½ï¼Œäººç”Ÿä¼šç»å†å¾ˆå¤šï¼Œæ— å¤–ä¹å¥åº·ã€‚è´¢å¯Œï¼Œå¥³äººå’Œäº‹ä¸šï¼Œå¦‚æœç»™ä»–ä»¬ä¼°ä¸ªä»·ï¼Œé‚£èº«ä½“æ‹æœ€å‰æ˜¯ 1ï¼Œå…¶ä½™çš„éƒ½æ˜¯ 0ï¼Œå¦‚æœ 1 æ²¡äº†è¦é‚£ä¹ˆå¤š 0 ç­‰äºæ²¡æœ‰ï¼Œæ‰€ä»¥åŸ¹å…»å¥åº·çš„ç”Ÿæ´»æ–¹å¼ï¼Œæ¯å¤©å¿…é¡»æŠ½ 30åˆ†é’Ÿåˆ°1å°æ—¶é”»ç‚¼ï¼Œä¸æ˜¯å·¥ä½œæˆ–é‡è¦äº‹æƒ…ï¼Œæ¯å¤©10ç‚¹ä¼‘æ¯ï¼Œæ—©ä¸Š6ç‚¹èµ·åºŠï¼Œæœ¬èº«å°±æœ‰äº›è–„å¼±ï¼Œå°±éœ€è¦é‡è§†èµ·æ¥ã€‚\n 2. ã€Œè‡ªæˆ‘å¡‘é€ ã€åŒ…æ‹¬å½¢è±¡å’Œå­¦è¯†ï¼Œä¹Ÿå°±æ˜¯è¡¨é¢çš„å’Œå†…åœ¨çš„ï¼Œè¿™å¯ä»¥åŒä¿®ï¼Œæ´»çš„ä¸è¦é‚‹é¢ï¼Œå‹¤å¿«çš„ï¼ŒæŠ½æ—¶é—´å¤šçœ‹ä¹¦ï¼Œä¹Ÿè®¸æœ‰äº›é“ç†å°±çªç„¶å°±æ˜ç™½äº†ï¼Œä¹Ÿä¼šæœ‰è¾“å‡ºçš„åº•è•´ã€‚\n 3. ã€ŒæŠ•èµ„ç³»ç»Ÿã€è¿™ä¸ªæ˜¯ä¸ªé‡ç‚¹ï¼Œä¹Ÿå¯ä»¥è¯´ç¬¬äºŒä¸ªé˜¶æ®µ 45 å²ä»¥åå¯å¯å¦å°æœ‰æˆå°±ï¼Œçœ‹è¿™ä¸ªåšçš„å¥½ä¸å¥½äº†ï¼Œå­¦ä¹ ä¸Šå¿…é¡»çš„ï¼Œè¿™ä¸ªä¹Ÿçœ‹å¤§ç¯å¢ƒï¼Œä¸è¿‡ç¯å¢ƒä¸å¥½è¿˜å¯ä»¥ç›ˆåˆ©æ‰æ˜¯çœŸæœ¬äº‹ã€‚æ…¢æ…¢å…»é¹…ã€‚\n 4. ã€Œäººè„‰å…³ç³»ã€ä¸ç®¡ä¹‹å‰æ€ä¹ˆæ ·ï¼Œä»ç°åœ¨å¼€å§‹å°±è¦åŸ¹å…»å’Œç»†åŒ–æœ‹å‹çš„åœˆå­äº†ï¼Œè¿™å°±åƒæŠ•èµ„ç³»ç»Ÿä¸€æ ·ï¼Œæ—¶é—´è¶Šé•¿ï¼Œå®ƒè¶Šåƒè´¢å¯Œã€‚\n 5. ã€Œå·¥ä½œã€è™½ç„¶æ”¾åé¢ä¹Ÿä¸æ˜¯è¯´ä¸é‡è¦ï¼Œè€Œæ˜¯åˆæœŸç»æµæ¥æºéƒ½æ˜¯è¿™é‡Œï¼Œæé«˜è‡ªå·±çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œä¸“ä¸šæŠ€èƒ½ï¼ŒåˆæœŸä¹Ÿç»™è‡ªå·±ä¸€ä»½ä¿éšœã€‚\n 6. ã€Œäº§å“æ€æƒ³ã€æ¯ä¸ªäººéƒ½æ˜¯äº§å“ç»ç†ï¼Œè‡ªå·±å°±æ˜¯è‡ªå·±çš„äº§å“ï¼Œä¸ºåˆ«äººæ‰“å·¥å’Œåˆ›ä¸šéƒ½ä¸€æ ·ï¼Œå°±æ˜¯æƒ³è®©è‡ªå·±å–ä¸ªå¥½ä»·é’±ï¼Œæ‰€ä»¥å¥½å¥½å¯¹è‡ªå·±ï¼Œæé«˜è‡ªå·±çš„å½±å“åŠ›\n\næœ€åç¦»è¿‡å¹´æ²¡å‡ å¤©äº†ï¼Œå…¬å¸åŒäº‹ä¹Ÿéƒ½é™†ç»­å›å®¶äº†ï¼Œä¹Ÿç¥å¤§å®¶æ–°å¹´è¶Šæ¥è¶Šç‰›é€¼ã€‚\n> *ä¸ªäººå…¬å·ï¼šcharmsongo*\n\n\n\n\n","tags":["ç”Ÿæ´»","æ„Ÿæ‚Ÿ","éšç¬”","ç›®æ ‡","æ€»ç»“"]},{"title":"æœ‰äº›äº‹å¹¶ä¸æ˜¯çœ‹åˆ°çš„é‚£æ ·","url":"/2019/01/05/æœ‰äº›äº‹å¹¶ä¸æ˜¯çœ‹åˆ°çš„é‚£æ ·/","content":"![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](æœ‰äº›äº‹å¹¶ä¸æ˜¯çœ‹åˆ°çš„é‚£æ ·/æ¸©æš–.jpg)\n> ä»Šå¤©çœ‹åˆ°ä¸€å¥ä¸é”™çš„è¯ï¼šä¸è¦å› ä¸ºå¹²æ¯çš„è½å¶ğŸ‚è€Œæ”¾å¼ƒæ•´æ£µå¤§æ ‘ã€‚\n\n- æœ‰æ—¶å€™äººçœ¼çœ‹åˆ°çš„ä¸ä¸€å®šæ˜¯çœŸæ˜¯çš„ï¼Œæ›´åˆ«è¯´å¸¦ç€åè§çœ‹åˆ°çš„ï¼Œç›¸äº²æ—¶éƒ½å¼ºè°ƒè¯´ç¬¬ä¸€å°è±¡ï¼Œå¯¹æŸäº‹æˆ–æŸäººæœ‰åè§è¿™ç§ç°è±¡å¤§å¤šéƒ½æ˜¯ç¬¬ä¸€å°è±¡æƒ¹å¾—ç¥¸ã€‚aåŒå­¦å»äº† H å…¬å¸ä¸Šç­ï¼Œåˆšå¼€å§‹æ–°é²œæ„Ÿå……æ»¡äº†ä»–çš„å¤§è„‘ï¼Œæ„Ÿè§‰å…¬å¸è¿˜ä¸é”™ï¼Œåæ¥æ…¢æ…¢çš„è·Ÿ b åŒå­¦èŠå¤©è°ƒä¾ƒè‡ªå·±åœ¨å…¬å¸å·¥ä½œçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è‡ªå·±å…¬å¸çœŸçš„æœ‰ç‚¹ lowï¼Œéšåä¸€åˆ°å…¬å¸å°±ä¼šæƒ³åˆ°å…¬å¸çš„ä¸å¥½ï¼Œè¿›è€Œçœ‹å…¬å¸é¢†å¯¼å’ŒåŒäº‹ä¹Ÿä¼šæ‹¿å»å’Œåˆ«çš„å…¬å¸çš„é¢†å¯¼åŒäº‹åšæ¯”è¾ƒï¼Œæ„Ÿè§‰æ²¡æœ‰åˆ«äººå®¶çš„é¢†å¯¼å’ŒåŒäº‹å¥½ï¼Œæƒ…ç»ªå°±ä¼šè”“å»¶ï¼Œæ®Šä¸çŸ¥ï¼Œè¿™éƒ½æ˜¯å› ä¸ºå¼€å§‹å¯¹å…¬å¸çš„åè§è€Œè¡ç”Ÿå‡ºå¯¹å…¬å¸äººçš„åè§ã€‚\n\n- äººéƒ½æœ‰ç¼ºç‚¹å’Œä¼˜ç‚¹ï¼Œä¹Ÿè®¸ä½ åªæ˜¯æ‹¿å…¬å¸çš„ç¼ºç‚¹å»å¯¹æ¯”åˆ«äººå®¶å…¬å¸çš„ä¼˜ç‚¹ï¼Œç»“æœè‚¯å®šä¸å¦‚æ„ï¼Œæ¯ä¸ªå…¬å¸å­˜åœ¨ï¼Œè‚¯å®šæœ‰å­˜åœ¨çš„é“ç†ã€‚å®ƒè‡ªèº«çš„ç«äº‰åŠ›ï¼Œä¹Ÿç®—æ˜¯ä¼˜ç‚¹ï¼Œåªæœ‰ä»å†…å¿ƒå¼€æ”¾å¼€æ¥ï¼Œå»æ·±å…¥æ„Ÿå—ï¼Œæ‰ä¼šç†æ¸…ï¼Œä¹Ÿè®¸ c åŒäº‹å¯¹è‡ªå·±çš„äº‹éå¸¸çƒ­å¿ƒï¼Œd åŒäº‹éå¸¸æœ‰è€å¿ƒï¼Œç»™æˆ‘è®²ä¸œè¥¿ä»æ¥ä¸ç€æ€¥...\n\n- æ¯ä¸ªç»“è®ºéƒ½è¦å¼„æ¸…æ¥šåå†å†³å®š","tags":["ç”Ÿæ´»","æ„Ÿæ‚Ÿ","éšç¬”"]},{"title":"èƒ¡ä¹±éšç¬”","url":"/2018/12/22/èƒ¡ä¹±éšç¬”/","content":"![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](èƒ¡ä¹±éšç¬”/å¾€åä½™ç”Ÿ.jpg)\n\n- 1.è¿™ä¸ªä¸–ç•Œï¼Œè¯¥æ¥çš„æ€»ä¼šæ¥ï¼Œè¯¥èµ°çš„ä¹Ÿä¸ä¼šé•¿ç•™ï¼Œç°å¦‚ä»Šçš„åŒå­¦è¿˜åœ¨ä½ èº«è¾¹å—ï¼Ÿå°åˆ°å°å­¦ï¼Œå¤§åˆ°å¤§å­¦æ¯•ä¸šï¼Œæœ‰çš„æ—©å·²ç»“å©šç”Ÿå­ï¼Œå­©å­éƒ½å¿«æ‰“é…±æ²¹äº†ï¼Œä¹Ÿæœ‰å¤§å­¦åŒå­¦åœ¨åŒä¸€ä¸ªåŸå¸‚æ‹¼æï¼Œä½†æ˜¯è§é¢çš„æœºä¼šå´å¾ˆå°‘ï¼Œè¿™æˆ–è®¸ä¹Ÿæ˜¯ä¸€ç§æœ€ç†Ÿæ‚‰çš„é™Œç”Ÿäººã€‚\n\n- 2.ç°åœ¨æ˜¯ä½ æ»¡æ„çš„ç”Ÿæ´»å—ï¼Ÿä½ æœ‰å¤šä¹…æ²¡æœ‰å‘è‡ªå†…å¿ƒå¼€å¿ƒçš„ç¬‘äº†ï¼Œä½ åˆæœ‰å¤šä¹…æ²¡æœ‰ä¸ºè‡ªå·±çœŸæ­£åšè¿‡é€‰æ‹©äº†ã€‚\n\n- 3.ä½ è¿˜æ˜¯é‚£ä¸ªå¬æ­Œå¯ä»¥å¬ä¸€å¤©ï¼Œçœ‹ä¹¦å¯ä»¥çœ‹ä¸€å¤©ï¼Œä¸ç€æ€¥ä¸ç„¦è™‘ï¼Œå°±æ˜¯è¿™æ ·ç­‰æ—¶é—´æ…¢ä¸‹å»ï¼Œå³ä½¿çœ‹åˆ°å½¤çº¢çš„æ™šéœä¹Ÿå¯ä»¥å»æ¬£å–œå¤§è‡ªç„¶çš„ç¥å¥‡è€Œå¿˜è®°ä¸€å¤©çš„æ—¶é—´å·²ç»æ¶ˆé€ã€‚\n\n- 4.éº»æœ¨ï¼Œå‘†æ»ï¼Œå«‰å¦’ï¼Œå­¤ç‹¬â€¦â€¦å¥½åƒç±»ä¼¼è¿™äº›æ¶ˆææ‚²è§‚çš„å­—çœ¼éƒ½çœ‹ä¸Šä½ äº†ä¸€æ ·ï¼Œæ€»æ˜¯æƒ³ç¯ç»•ä½ å·¦å³ï¼Œå³ä½¿ä½ çªç ´äº†å®ƒä»¬çš„åŒ…å›´åœˆï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥å¾ˆå¿«æ¢å¤åŸçŠ¶ã€‚\n\n- 5.æ¯æ¬¡æƒ…ç»ªä¸å¥½çš„æ—¶å€™æ€»æƒ³å»æ„Ÿå¹ï¼Œè°ƒä¾ƒï¼Œä½†æ˜¯å´ä¸çŸ¥è¯¥å‘è°è¯´èµ·ï¼Œä¹Ÿä¸çŸ¥é“è¯¥å¦‚ä½•è¯´å‡ºå£ï¼Œçœ‹ä¿®ä»™çš„å°è¯´ï¼Œä¸»äººå…¬ä¸€èˆ¬ä¼šç›´æ¥æˆ–é—´æ¥çš„åœ¨å›°éš¾çš„æ—¶å€™å—åˆ°é«˜äººæŒ‡ç‚¹ï¼Œä½†ç°å®ç”Ÿæ´»ä¸­é‡åˆ°è¿™æ ·çš„è´µäººæ˜¯å¯é‡ä¸å¯æ±‚çš„ã€‚\n\n- 6.æƒ³åšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œå¦‚æœæƒ³çš„å¤ªå¤šï¼Œè¡ç”Ÿçš„æŸç¼šå°±ä¼šè¶Šå¤šï¼Œè¶Šæ¥è¶Šç•é¦–ç•å°¾ï¼Œå€’ä¸å¦‚ç®¡ä»–ä¸‰ä¸ƒäºŒåä¸€ï¼Œå¹²å°±å®Œäº†ã€‚\n\n- 7.å¹´è½»çš„æ—¶é—´å°±è¿™ä¹ˆç‚¹ï¼Œè¦å­¦ä¼šçæƒœï¼Œå³ä½¿æµªè´¹ï¼Œä¹Ÿè¦æµªè´¹åœ¨è‡ªå·±æƒ³åšè€Œæ²¡åšçš„äº‹æƒ…ä¸Šï¼Œå¹²çš„å¤šäº†å†å»è€ƒè™‘å¦‚ä½•æ‰ä¼šæœ‰æ„ä¹‰ï¼Œå¹²å°±å®Œäº†ã€‚\n\n","tags":["life","æ€åº¦"]},{"title":"æ¨èä¸€ä¸ªjavaæ“ä½œftpçš„å·¥å…·ç±»","url":"/2018/12/08/æ¨èä¸€ä¸ªjavaæ“ä½œftpçš„å·¥å…·ç±»/","content":"\n# å†™åœ¨å‰é¢\nä½œä¸ºç»å¸¸ä½¿ç”¨ç”µè„‘æ•´ç†æ–‡ä»¶çš„ç«¥é‹ï¼Œåº”è¯¥éƒ½ä½¿ç”¨è¿‡ä»ftpæœåŠ¡å™¨ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ï¼Œé‚£ä¹ˆä»Šå¤©å°±äº†è§£ä¸‹å¦‚ä½•é€šè¿‡javaç¨‹åºæ“ä½œftpæœåŠ¡çš„æ–‡ä»¶\n>é¦–å…ˆä½ è¦çŸ¥é“ftpçš„ipï¼Œè·¯å¾„ï¼Œç«¯å£ï¼Œæœ‰æ“ä½œæƒé™çš„è´¦å·å’Œå¯†ç \n\n## 1 å¯¼å…¥jaråŒ…\n\n```javascript\n commons-net-3.6.jar\n```\nè¿™ä¸ªjaråŒ…ç”¨æ¥è®¾ç½®ç¼–ç ï¼Œç»è¿‡æµ‹è¯•ï¼Œä¸åŠ ä¹Ÿå¯ç”¨\n## 2 å·¥å…·ç±»ä¸­ä¸»è¦æ–¹æ³•\n### 2.1 ç™»é™†ftp\n```javascript\n\t/**\n\t * éªŒè¯ç™»å½•\n\t * @param ip\n\t * @param port\n\t * @param name\n\t * @param pwd\n\t * @return\n\t */\n\tpublic boolean login(String ip,int port, String name, String pwd) {\n\t\ttry {\n\t\t\tftp = new FTPClient();\n\t\t\tftp.connect(ip, port);\n\t\t\tSystem.out.println(ftp.login(name, pwd));\n\t\t\tif(!ftp.login(name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tftp.setCharset(Charset.forName(\"UTF-8\"));\n\t\t\tftp.setControlEncoding(\"UTF-8\");\n\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n```\n\n> æ³¨æ„ï¼šè·å–è¿œç¨‹æ–‡ä»¶ç›®å½•ï¼Œä¸Šä¼ å’Œä¸‹è½½æ–¹æ³•åŸºäºç™»é™†æ–¹æ³•\n### 2.2 è·å–è¿œç¨‹æ–‡ä»¶ç›®å½•\n```java\n\t/**\n\t * è·å–ftpæŸä¸€æ–‡ä»¶ï¼ˆè·¯å¾„ï¼‰ä¸‹çš„æ–‡ä»¶åå­—,ç”¨äºæŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨\n\t * @param ip\n\t * @param port\n\t * @param name\n\t * @param pwd\n\t * @param remotedir è¿œç¨‹åœ°å€ç›®å½•\n\t * @return\n\t */\n    public boolean getFilesName(String ip,int port, String name, String pwd, String remotedir) {\n        try {\n        \tif(!login(ip, port, name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n            //è·å–ftpé‡Œé¢ï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹ é‡Œé¢çš„æ–‡ä»¶åå­—ï¼Œå­˜å…¥æ•°ç»„ä¸­\n            FTPFile[] files = ftp.listFiles(remotedir);\n            //æ‰“å°å‡ºftpé‡Œé¢ï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹ é‡Œé¢çš„æ–‡ä»¶åå­—\n            for (int i = 0; i < files.length; i++) {\n                System.out.println(files[i].getName());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }finally{\n        \tthis.close();\n        }\n        return true;\n    }\n```\n### 2.3 ä¸Šä¼ æ–‡ä»¶\n```java\n\t/**\n     * ä¸Šä¼ æ–‡ä»¶ æ–¹æ³•ä¸€\n     * @param ip\n     * @param port\n     * @param name\n     * @param pwd\n     * @param remotepath è¿œç¨‹åœ°å€æ–‡ä»¶è·¯å¾„\n     * @param localpath æœ¬åœ°æ–‡ä»¶è·¯å¾„\n     * @return\n     */\n    public boolean putFileOne(String ip,int port, String name, String pwd,String remotepath,String localpath) {\n        try {\n        \tif(!login(ip, port, name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n            //å°†æœ¬åœ°çš„ localpath æ–‡ä»¶ä¸Šä¼ åˆ°ftpçš„æ ¹ç›®å½•æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå¹¶é‡å‘½åä¸º remotepathä¸­çš„åå­—\n        \t return ftp.storeFile(remotepath, new FileInputStream(new File(localpath)));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }finally{\n        \tthis.close();\n        }\n    }\n    \n    /**\n     * ä¸Šä¼ æ–‡ä»¶çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¼˜åŒ–äº†ä¼ è¾“é€Ÿåº¦\n     * @param ip\n     * @param port\n     * @param name\n     * @param pwd\n     * @param remotepath è¿œç¨‹åœ°å€æ–‡ä»¶è·¯å¾„\n     * @param localpath æœ¬åœ°æ–‡ä»¶è·¯å¾„\n     * @return\n     */\n    public boolean putFileTwo(String ip,int port, String name, String pwd,String remotepath,String localpath) {\n        try {\n        \tif(!login(ip, port, name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n            os = ftp.storeFileStream(remotepath);\n            fis = new FileInputStream(new File(localpath));\n            byte[] b = new byte[1024];\n            int len = 0;\n            while ((len = fis.read(b)) != -1) {\n                os.write(b,0,len);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }finally {\n        \tthis.close();\n\t\t}\n        return true;\n    }\n```\n### 2.4 ä¸‹è½½æ–‡ä»¶\n\n```java\n\t/**\n     * ä¸‹è½½æ–‡ä»¶ æ–¹æ³•ä¸€\n     * @param ip\n     * @param port\n     * @param name\n     * @param pwd\n     * @param remotepath è¿œç¨‹åœ°å€æ–‡ä»¶è·¯å¾„\n     * @param localpath æœ¬åœ°æ–‡ä»¶è·¯å¾„\n     * @return\n     */\n    public boolean getFileOne(String ip,int port, String name, String pwd,String remotepath,String localpath) {\n        try {\n        \tif(!login(ip, port, name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n            //å°†ftpèµ„æºä¸­ remotepath æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ç›®å½•æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå¹¶é‡å‘½åä¸º localpath ä¸­çš„åå­—\n        \treturn ftp.retrieveFile(remotepath, new FileOutputStream(new File(localpath)));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }finally{\n        \tthis.close();\n        }\n    }\n\t\n    /**\n     * ä¸‹è½½æ–‡ä»¶çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä¼˜åŒ–äº†ä¼ è¾“é€Ÿåº¦\n     * @param ip\n     * @param port\n     * @param name\n     * @param pwd\n     * @param remotepath è¿œç¨‹åœ°å€æ–‡ä»¶è·¯å¾„\n     * @param localpath  æœ¬åœ°æ–‡ä»¶è·¯å¾„\n     * @return\n     */\n\tpublic boolean getFileTwo(String ip,int port, String name, String pwd,String remotepath,String localpath) {\n\t\ttry {\n\t\t\tif(!login(ip, port, name, pwd)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tis = ftp.retrieveFileStream(remotepath);\n\t\t\tfos = new FileOutputStream(new File(localpath));\n\t\t\tbyte[] b = new byte[1024];\n\t\t\tint len = 0;\n\t\t\twhile ((len = is.read(b)) != -1) {\n\t\t\t\tfos.write(b,0,len);\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t\treturn false;\n\t\t}finally {\n\t\t\tthis.close();\n\t\t}\n\t\treturn true;\n\t}\n```\n## 3 æºç \nå½“ç„¶ä¸Šé¢ä»£ç åªæ˜¯é‡è¦çš„éƒ¨åˆ†ï¼Œå¦‚æœæœ‰é—®é¢˜å¯å»githubè‡ªè¡Œä¸‹è½½ [charmsongo](https://github.com/charmsongo/ftptest)\n>å¦‚æœæœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ³•æ¬¢è¿ç•™è¨€","tags":["java","ftp"]},{"title":"application.propertiesæ•°æ®åº“æ•æ„Ÿä¿¡æ¯åŠ å¯†è¿™ä¹ˆç®€å•ï¼Ÿ","url":"/2018/12/01/application-propertiesæ•°æ®åº“æ•æ„Ÿä¿¡æ¯åŠ å¯†è¿™ä¹ˆç®€å•ï¼Ÿ/","content":"\n# å†™åœ¨å‰é¢\nä¿—è¯è¯´ï¼šâ€é¡¾å®¢æ˜¯ä¸Šå¸â€œï¼Œèº«ä¸ºç¨‹åºå‘˜çš„æˆ‘æœ‰æ—¶ä¼šç›´æ¥å¯¹æ¥å®¢æˆ·æ–¹æå‡ºçš„éœ€æ±‚ï¼Œæ¯•ç«Ÿæˆ‘å¤„åœ¨æä¾›æœåŠ¡çš„ä¸€æ–¹ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¼šå°½é‡çš„æ»¡è¶³ä¸´æ—¶çš„è¦æ±‚ã€‚å‰äº›å¤©å°±æœ‰äº†ä¸€ä¸ªæ»¡è¶³æ¼æ´æ£€æµ‹çš„éœ€æ±‚ï¼Œæƒ³è¦æŠŠæ•°æ®åº“çš„æ˜æ–‡æ•æ„Ÿä¿¡æ¯åŠ å¯†ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å¯†ç åŠ å¯†ï¼Œæ‰€ä»¥ä¹Ÿå°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘çš„é¡¹ç›®æ˜¯springbootç»“æ„ï¼Œä¿®æ”¹å…¶å®ä¹ŸæŒºç®€å•ï¼ŒåºŸè¯å°‘è¯´ï¼Œä¸Šä»£ç ã€‚\n\n>è¿™é‡Œä½¿ç”¨çš„æ˜¯ jasyptï¼Œè€Œå®ƒæ˜¯ä¸€ä¸ªjavaå®ç°çš„å®‰å…¨æ¡†æ¶\n\n## 1.Mavençš„pom.xmlä¾èµ–\n```javascript\n <dependency>\n     <groupId>com.github.ulisesbocchio</groupId>\n     <artifactId>jasypt-spring-boot-starter</artifactId>\n     <version>1.8</version>\n </dependency>\n```\n\n## 2.é€šè¿‡æµ‹è¯•ç±»éªŒè¯åŠ å¯†åŠ å¯†\næµ‹è¯•ç±»å¦‚ä¸‹\n```javascript\nimport org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\nimport org.jasypt.encryption.pbe.config.EnvironmentPBEConfig;\n\n/**\n * Created By charmsongo 21:04 2018/11/30\n */\npublic class CryptorTest {\n\n    /**\n     * åŠ å¯†æ–¹æ³•\n     * @param plainText éœ€åŠ å¯†æ–‡æœ¬\n     */\n    public static void testEncrypt(String plainText) {\n        StandardPBEStringEncryptor standardPBEStringEncryptor = new StandardPBEStringEncryptor();\n        EnvironmentPBEConfig config = new EnvironmentPBEConfig();\n\n        // åŠ å¯†çš„ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•æ˜¯é»˜è®¤çš„\n        config.setAlgorithm(\"PBEWithMD5AndDES\");\n        //åŠ å¯†çš„å¯†é’¥ï¼Œè‡ªå®šä¹‰\n        config.setPassword(\"CSEbfYkitulv73I2p0mXI50JMXoaxZTKJ7\");\n        standardPBEStringEncryptor.setConfig(config);\n        String encryptedText = standardPBEStringEncryptor.encrypt(plainText);\n        System.out.println(encryptedText);\n    }\n\n    /**\n     * è§£å¯†æ–¹æ³•\n     * @param encryptedText éœ€è§£å¯†æ–‡æœ¬\n     */\n    public static void testDecrypt(String encryptedText) {\n        StandardPBEStringEncryptor standardPBEStringEncryptor = new StandardPBEStringEncryptor();\n        EnvironmentPBEConfig config = new EnvironmentPBEConfig();\n\n        // è§£å¯†çš„ç®—æ³•ï¼Œéœ€åŒåŠ å¯†ç®—æ³•ç›¸åŒ\n        config.setAlgorithm(\"PBEWithMD5AndDES\");\n        //è§£å¯†çš„å¯†é’¥ï¼Œéœ€åŒåŠ å¯†å¯†é’¥ç›¸åŒ\n        config.setPassword(\"CSEbfYkitulv73I2p0mXI50JMXoaxZTKJ7\");\n        standardPBEStringEncryptor.setConfig(config);\n        String plainText = standardPBEStringEncryptor.decrypt(encryptedText);\n        System.out.println(plainText);\n    }\n\n    public static void main(String[] args){\n        testEncrypt(\"root\");\n        testDecrypt(\"TU1NovjRHGyjp7cSc6v0sQ==\");\n    }\n}\n```\n**è¿è¡Œmainæ–¹æ³•ç»“æœå¦‚ä¸‹**\n```javascript\nTU1NovjRHGyjp7cSc6v0sQ==\nroot\n```\n\n## 3.application.propertiesä¸­é…ç½®ä¿®æ”¹\n```javascript\n##mysql-----ä¿®æ”¹å‰é…ç½®\nspring.datasource.url=jdbc:mysql://192.168.2.105/mysql?characterEncoding=utf8&useSSL=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\n##mysql-----ä¿®åå‰é…ç½®\njasypt.encryptor.password=CSEbfYkitulv73I2p0mXI50JMXoaxZTKJ7#å¼•å…¥å¯†é’¥\nspring.datasource.url=jdbc:mysql://192.168.2.105/mysql?characterEncoding=utf8&useSSL=true\nspring.datasource.username=root\nspring.datasource.password=ENC(TU1NovjRHGyjp7cSc6v0sQ==)\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n```\n\n> ä½¿ç”¨ jasypt åŠ å¯†æ•°æ®åº“æ•æ„Ÿä¿¡æ¯çš„ä»»åŠ¡ç°åœ¨å°±å¯ä»¥äº¤å·¥äº†ï¼Œä½†æ˜¯çœ‹å®Œæ‚¨ä¼šå‘ç°ï¼Œè¿™æ ·ä¹Ÿä¸æ˜¯ç‰¹åˆ«å®‰å…¨çš„ï¼Œç¡®å®ã€‚ã€‚ã€‚æ‰€ä»¥æ‚¨æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠ å¯†æ–¹æ³•æ¬¢è¿ç•™è¨€","tags":["java","mysql","jasypt","application.properties","springboot"]},{"title":"è®°å½•ä¸‹æ­»ç£•è¿‡çš„ä¸€ä¸ªå‘","url":"/2018/11/10/è®°å½•ä¸‹æ­»ç£•è¿‡çš„ä¸€ä¸ªå‘/","content":"\n# å†™åœ¨å‰é¢\næœ€è¿‘å…¬å¸é¡¹ç›®æäº†ä¸ªå¾ˆæ­£å¸¸çš„éœ€æ±‚ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯å¾ˆæ­£å¸¸çš„éœ€æ±‚å‘¢ï¼Œä¿å®ˆç‚¹è¯´ï¼Œå¤§å¤šæ•°çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œé‚£å°±æ˜¯tomcatæŒ‡å®š404é¡µé¢ï¼Œå…·ä½“æƒ…å†µè¯·å¬æˆ‘å†å•°å—¦å•°å—¦ã€‚æœ‰è¿™ä¹ˆä¸€åœºæ™¯ï¼Œæœ‰äººæƒ³æ”»å‡»ä¸€å®¶çš„é¡¹ç›®ï¼Œä½†æ˜¯æ”»å‡»å‰éœ€è¦äº†è§£è¯¥å…¬å¸é¡¹ç›®çš„å…·ä½“ç»„æˆéƒ¨åˆ†æ‰å¯ä»¥è¿›è¡ŒçœŸæ­£çš„æ”»å‡»å§ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸çŸ¥é“è¯¥é¡¹ç›®éƒ½æœ‰å“ªäº›ç›®å½•ï¼Ÿç›®å½•ä¸‹æœ‰å“ªäº›æ–‡ä»¶ï¼Ÿå¯ä»¥ç”¨ç¬¨æ–¹æ³•å°±æ˜¯å»è¯•ï¼Œç”¨ä¸€ä¸ªå¤§æ¦‚å¸¸ç”¨çš„è·¯å¾„å»è®¿é—®è¯¥é¡¹ç›®åœ°å€ï¼Œæ¯”å¦‚ip/é¡¹ç›®å/xxx,ä¸å­˜åœ¨çš„è·¯å¾„ä¼šçœ‹åˆ°é»˜è®¤çš„404é¡µé¢ä¼šæ˜¾ç¤ºtomcatçš„ç‰ˆæœ¬å’Œå…¶å®ƒçš„ä¸€äº›ä¿¡æ¯ï¼Œæ•æ„Ÿä¿¡æ¯ä¼šæš´éœ²ï¼Œæœ‰ç‚¹å±é™©ï¼Œæ‰€ä»¥æˆ‘å…¬å¸ä¸æƒ³è®©åˆ«äººçœ‹åˆ°è¿™äº›ï¼Œé‚£å°±éœ€è¦æŒ‡å®šä¸€ä¸ªé¡µé¢ï¼Œæ‰¾ä¸åˆ°çš„è·¯å¾„éƒ½è¦è½¬å‘è¿™ä¸ªé¡µé¢ã€‚\n## 1.ä¿®æ”¹web.xml\n\nä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„å¦‚ä¸‹ï¼Œåªè¦æ”¾åœ¨tomcatä¸‹çš„éƒ½èµ°è¿™ä¸ªé…ç½®\n```javascript\n/*/*/tomcat/conf/web.xml\n```\nåœ¨web.xmlæ–‡ä»¶æœ€åæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼Œerror-codeæ˜¯æµè§ˆå™¨çŠ¶æ€ç ä¸º404å°±è½¬å‘404.jspé¡µé¢ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œæˆ‘å°±è½½åœ¨äº†è¿™é‡Œï¼Œlocationæ˜¯å½“å‰è¿è¡Œé¡¹ç›®çš„ä¸‹çš„è·¯å¾„ï¼Œé€šä¿—ç‚¹è®²å°±æ˜¯ï¼Œä¸€ä¸ªé¡¹ç›®åä¸ºsongoï¼Œé‚£ä¹ˆ404.jspé¡µé¢å°±è¦æ”¾åœ¨songoé¡¹ç›®ä¸‹ï¼Œå¯¹åº”çš„è·¯å¾„å°±æ˜¯/songo/404.jsp,å…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·è®¾ç½®ï¼Œä½†æ˜¯å°±æ˜¯è¿™æ ·å¥½ä½¿äº†\n```javascript\n    <error-page>\n    <error-code>404</error-code>\n    <location>/404.jsp</location>\n    </error-page>\n</web-app>\n```\n**è¿™æ ·çš„è¯å°±æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœtomcatä¸‹æœ‰å¤šä¸ªé¡¹ç›®ï¼Œé‚£æ¯ä¸ªé¡¹ç›®æ ¹ä¸‹éƒ½è¦æ”¾ä¸€ä¸ªç›¸åŒçš„404.jspé¡µé¢ï¼Œå¦‚æœæ‚¨æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•æ¬¢è¿ç•™è¨€**\n## 2.404é¡µé¢æ³¨æ„é—®é¢˜\n404.jspéœ€è¦æ·»åŠ 2è¡Œå†…å®¹ï¼Œå¦‚ä¸‹\n```javascript\n<%@ page language=\"java\" contentType=\"text/html; charset=gbk\" pageEncoding=\"gbk\" isErrorPage=\"true\"%>\n<%response.setStatus(HttpServletResponse.SC_OK);%>\n```\n**è¿™2è¡Œä¸»è¦æ˜¯å‘Šè¯‰æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨ä¸å­˜åœ¨çš„èµ„æºè·³è½¬çš„é”™è¯¯å¤„ç†é¡µé¢ï¼Œä½†æ˜¯è¿”å›æ­£å¸¸çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”æ­£å¸¸æ˜¾ç¤ºé¡µé¢å†…å®¹**\nå¦å¤–ï¼Œå…·ä½“é¡µé¢è¯·åˆ° github è‡ªè¡Œ[ä¸‹è½½](https://github.com/charmsongo/404page)\n\n\n> è¯´åœ¨æœ€åï¼Œå¦‚æœæœ‰å“ªé‡Œæœ‰é—®é¢˜æˆ–å†™çš„ä¸å¯¹çš„ï¼Œè¯·ç•™è¨€ï¼Œæˆ‘ä¼šå°½é‡åœ¨ç¬¬ä¸€æ—¶é—´ç»™æ‚¨ç­”å¤\n","tags":["java","tomcat","web.xml","404"]},{"title":"ORACLEå¦‚ä½•ä¸€æ¬¡æ€§ä¿®æ”¹ç”¨æˆ·è¿æ¥æ•°ï¼Ÿ","url":"/2018/11/08/ORACLEå¦‚ä½•ä¸€æ¬¡æ€§ä¿®æ”¹ç”¨æˆ·è¿æ¥æ•°ï¼Ÿ/","content":"\n# oracleè¿æ¥æ•°è¯¦è§£\noracleè¿æ¥æ•°é»˜è®¤æ˜¯150ï¼Œå½“åŒä¸€æ—¶é—´è¿æ¥æ•°å¤§äºè¿™ä¸ªæ•°çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œç°åœ¨çš„è§£å†³åŠæ³•ä¸ºå¢å¤§oracleçš„è¿æ¥æ•°ï¼Œä»150æ”¹ä¸º1500ï¼Œæ“ä½œå¦‚ä¸‹\n## 1.ä¿®æ”¹å‰é—®é¢˜è§£å†³\nå¦‚æœå·²ç»æŠ¥è¶…è¿‡è¿æ¥æ•°é”™è¯¯åçš„è¯ï¼Œæ˜¯ç™»å½•ä¸ä¸Šoracleçš„ï¼Œæ‰€ä»¥éœ€è¦ç”¨å‘½ä»¤ lsof -i:1521 æŸ¥çœ‹ï¼Œæ‰€æœ‰å ç”¨è¿™ä¸ªç«¯å£çš„è¿›ç¨‹ï¼Œç„¶åç”¨ kill -9 PID æ€æ­»è¿™äº›è¿›ç¨‹ï¼Œæœ‰å¯èƒ½ä¼šå¾ˆå¤šï¼Œä¸æƒ³ä¸€ä¸ªä¸€ä¸ªæ€æ­»å¯ä»¥ç™¾åº¦è°·æ­Œæ–¹æ³• \n\n## 2.ç™»å½•oracle\n```javascript\n#åˆ‡æ¢åˆ°oracleï¼Œå†ç™»å½•\nsu - oracle\nsqlplus / as sysdba\n```\n## 3.æŸ¥è¯¢è¿æ¥æ•°ï¼Œå¹¶ä¿®æ”¹\n### 3.1ä½¿ç”¨å‘½ä»¤ show parameter processes;\n```javascript\nSQL> show parameter processes;\nNAME                                 TYPE        VALUE\n------------------------------------ ----------- ------------------------------\naq_tm_processes                      integer     1\ndb_writer_processes                  integer     1\ngcs_server_processes                 integer     0\nglobal_txn_processes                 integer     1\njob_queue_processes                  integer     1000\nlog_archive_max_processes            integer     4\nprocesses                            integer     150\n```\næœ€åä¸€è¡Œä¸ºè¿æ¥æ•°150\n### 3.2ä¿®æ”¹å‰éœ€å…ˆåˆ›å»º spfile å¹¶é‡å¯ oracle æœåŠ¡\n```javascript\nSQL> create spfile from pfile;\nFile created.\n\n#å…³é—­ oracle æœåŠ¡\nSQL> shutdown immediate;\nDatabase closed.\nDatabase dismounted.\nORACLE instance shut down.\n\n#å¯åŠ¨oracleæœåŠ¡\nSQL> startup\nORACLE instance started.\nTotal System Global Area  835104768 bytes\nFixed Size               2257840 bytes\nVariable Size          541068368 bytes\nDatabase Buffers      289406976 bytes\nRedo Buffers      2371584 bytes\nDatabase mounted.\nDatabase opened.\n```\n### 3.3ä¿®æ”¹è¿æ¥æ•°ä¸º1500\n```javascript\nSQL> alter system set processes=1500 scope = spfile;\nSystem altered.\n\n#oracleæ“ä½œè¦å…»æˆæäº¤çš„ä¹ æƒ¯\nSQL> commit;\nCommit complete.\n\nSQL> shutdown immediate;\nDatabase closed.\nDatabase dismounted.\nORACLE instance shut down.\n\nSQL> startup\nORACLE instance started.\nTotal System Global Area  835104768 bytes\nFixed Size               2257840 bytes\nVariable Size          541068368 bytes\nDatabase Buffers      289406976 bytes\nRedo Buffers      2371584 bytes\nDatabase mounted.\nDatabase opened.\n```\n### 3.4æœ€åéªŒè¯è¿æ¥æ•°æ˜¯å¦ä¿®æ”¹æˆåŠŸ\n```javascript\nSQL> show parameter processes;\nNAME                                 TYPE        VALUE\n------------------------------------ ----------- ------------------------------\naq_tm_processes                      integer     1\ndb_writer_processes                  integer     1\ngcs_server_processes                 integer     0\nglobal_txn_processes                 integer     1\njob_queue_processes                  integer     1000\nlog_archive_max_processes            integer     4\nprocesses                            integer     1500\n```\nå·²æ”¹ä¸º1500,è¯´æ˜ä¿®æ”¹æˆåŠŸï¼Œç°åœ¨å¯ä»¥å¤šäººç—›å¿«çš„è¿æ¥ç™»å½•oracleäº†\n\n> è¯´åœ¨æœ€åï¼Œå¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯·ç•™è¨€ï¼Œæˆ‘ä¼šå°½é‡åœ¨ç¬¬ä¸€æ—¶é—´ç»™æ‚¨ç­”å¤\n","tags":["linux","oracle"]},{"title":"æœ¬æœºè‡ªå®šä¹‰åŸŸåæ˜ å°„IP","url":"/2018/11/07/æœ¬æœºè‡ªå®šä¹‰åŸŸåæ˜ å°„IP/","content":"\n# winså’Œlinuxè®¾ç½®\nå…¶å®è®¾ç½®å¾ˆç®€å•ï¼Œä¿®æ”¹ hosts æ–‡ä»¶å°±å¯ä»¥äº†ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»\n## 1.winsä¿®æ”¹hostsæ–‡ä»¶\nè·¯å¾„å¦‚ä¸‹\n```javascript\nC:\\Windows\\System32\\drivers\\etc\\hosts\n```\næ‰“å¼€æ–‡ä»¶åœ¨æœ€åæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œä¿å­˜å³å¯å³æ—¶ç”Ÿæ•ˆ\n```javascript\n192.168.2.1 charmsongo.com\n```\næœ€å¯èƒ½é‡åˆ°çš„é—®é¢˜å°±æ˜¯ä¿®æ”¹åä¿å­˜é—®é¢˜äº†ï¼Œå¯ä»¥å‚è€ƒ [é“¾æ¥](https://www.jb51.net/diannaojichu/133538.html)\n\n## 2.linuxä¿®æ”¹hostsæ–‡ä»¶\nè·¯å¾„å¦‚ä¸‹\n```javascript\n/etc/hosts\n```\nä½¿ç”¨å‘½ä»¤ã€Œvi /etc/hostsã€,åŒæ ·åœ¨æœ€åæ·»åŠ å¦‚ä¸‹å†…å®¹,ç„¶åä¿å­˜å³å¯\n```javascript\n192.168.2.1 charmsongo.com\n```\n## 3.è®¿é—®æ–¹å¼\nè®¿é—®æ–¹å¼çš„æ”¹å˜å°±æ›´ç®€å•äº†ï¼ŒæŠŠåŸæ¥ URL ä¸­çš„ IP æ¢æˆæ”¹çš„åŸŸåå³å¯ï¼Œè¿™é‡Œä»¥winsä¸Šä¸ºä¾‹ï¼Œå¦‚ä¸‹\n```java\n#ä¿®æ”¹å‰url\nhttps://192.168.2.1\n\n#ä¿®æ”¹åurl\nhttps://charmsongo.com/\n```\n\n\n> è¯´åœ¨æœ€åï¼Œå¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯·ç•™è¨€ï¼Œæˆ‘ä¼šå°½é‡åœ¨ç¬¬ä¸€æ—¶é—´ç»™æ‚¨ç­”å¤\n","tags":["åŸŸå","IP"]},{"title":"javaä¸­æ–‡ä»¶å¦‚ä½•åŠ å¯†å‹ç¼©?","url":"/2018/10/27/javaä¸­æ–‡ä»¶å¦‚ä½•åŠ å¯†å‹ç¼©/","content":"\n# æ–‡ä»¶åŠ å¯†å‹ç¼©\nåœ¨ç°å¦‚ä»Šå·²ç»å¯ä»¥å®ç°å¤§éƒ¨åˆ†åŠŸèƒ½çš„äº’è”ç½‘éœ€æ±‚ä¸­ï¼Œå®‰å…¨æˆä¸ºäº†éœ€è¦çš„éå¿…éœ€å“ï¼Œå·¥ä½œéœ€æ±‚ä¸­ä¼šé‡åˆ°å¯¹å¯¼å‡ºçš„ excel æŠ¥è¡¨ åšåŠ å¯†å‹ç¼©çš„é—®é¢˜ï¼Œä»Šå¤©æœ‰æ—¶é—´æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œç®€å•åˆ—ä¸¾åŠŸèƒ½ä»£ç ï¼Œè¿å¸¦å…¶å®ƒä»£ç æ–‡æœ«ä¼šä¸€å¹¶ç»™å‡ºã€‚\n## 1.å•ä¸ªæ–‡ä»¶åŠ å¯†å‹ç¼©\nå•ä¸ªæ–‡ä»¶åŠ å¯†æ–¹æ³•ï¼Œéœ€ä¼ è¾“ 3 ä¸ªå‚æ•°ï¼šè¢«å‹ç¼©æºæ–‡ä»¶ï¼Œå‹ç¼©ç›®æ ‡æ–‡ä»¶å’ŒåŠ å¯†å¯†é’¥ï¼Œå¦‚ä¸‹\n```javascript\n\t/**\n\t * @Title: encrypt_zip \n     * @Description:å°†æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å‹ç¼©è‡³æŒ‡å®šzipæ–‡ä»¶ï¼Œå¹¶ä»¥æŒ‡å®šå¯†ç åŠ å¯†,è‹¥å¯†ç ä¸ºç©ºï¼Œåˆ™ä¸è¿›è¡ŒåŠ å¯†ä¿æŠ¤ \n\t * @param src_file å¾…å‹ç¼©æ–‡ä»¶è·¯å¾„\n\t * @param dst_file zipè·¯å¾„+æ–‡ä»¶å \n\t * @param encode åŠ å¯†å¯†ç   \n\t * @return \n\t */\n\tpublic static void encrypt_zip(String src_file, String dst_file, String encode) {\n\t\tFile file = new File(src_file);\n\n\t\tZipParameters parameters = new ZipParameters();\n\t\tparameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);//å‹ç¼©æ–¹å¼\n\t\tparameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_NORMAL); // å‹ç¼©çº§åˆ«\n\n\t\tparameters.setEncryptFiles(true);\n\t\tparameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_STANDARD);//åŠ å¯†æ–¹å¼\n\t\tparameters.setPassword(encode.toCharArray());//è®¾ç½®å¯†ç \n\n\t\ttry {\n\t\t\tZipFile zipFile = new ZipFile(dst_file);\n\t\t\tzipFile.setFileNameCharset(\"gbk\");\n\t\t\tzipFile.addFile(file, parameters);\n\n\t\t} catch (ZipException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\n\t}\n```\n## 2.å¤šæ–‡ä»¶åŠ å¯†å‹ç¼©\n\t\nå¤šæ–‡ä»¶åŠ å¯†å‹ç¼©å’Œå•æ–‡ä»¶ç±»ä¼¼ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•åŒ…å«ä¸Šé¢çš„æ–¹æ³•ï¼Œç”šè‡³åŠŸèƒ½ä¸Šå¯ä»¥æ›¿æ¢ä¸Šé¢æ–¹æ³•ï¼Œå…·ä½“çœ‹ä¸‹ code\n\n\n```javascript\n\t/**\n\t * @Title: zipFilesAndEncrypt \n     * @Description: å°†æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å‹ç¼©è‡³æŒ‡å®šzipæ–‡ä»¶ï¼Œå¹¶ä»¥æŒ‡å®šå¯†ç åŠ å¯†,è‹¥å¯†ç ä¸ºç©ºï¼Œåˆ™ä¸è¿›è¡ŒåŠ å¯†ä¿æŠ¤ \n\t * @param srcFileName å¾…å‹ç¼©æ–‡ä»¶è·¯å¾„ æˆ– æ–‡ä»¶å¤¹è·¯å¾„\n\t * @param zipFileName zipè·¯å¾„+æ–‡ä»¶å \n\t * @param password åŠ å¯†å¯†ç   \n\t * @return \n\t */\n    public static void zipFilesAndEncrypt(String srcFileName,String zipFileName,String password){  \n    \t\n\t    if(StrTool.is_empty(srcFileName) || StrTool.is_empty(zipFileName)){  \n\t    \tSystem.out.println(\"è¯·æ±‚çš„å‹ç¼©è·¯å¾„æˆ–è€…æ–‡ä»¶åæœ‰è¯¯\");\n\t    \treturn;\n\t    }  \n\t    try {  \n\t\t    ZipParameters parameters = new ZipParameters();  \n\t\t    parameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);//å‹ç¼©æ–¹å¼\n\t\t    parameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_NORMAL);//å‹ç¼©çº§åˆ«\n\t\t    if(!StrTool.is_empty(password)){  \n\t\t    \tparameters.setEncryptFiles(true);     \n\t\t\t    parameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_STANDARD);//åŠ å¯†æ–¹å¼\n\t\t\t    parameters.setPassword(password);  \n\t\t    }  \n\t\t    \n\t\t    ArrayList<File> filesToAdd=getFiles(srcFileName);\n\t\t    \n\t\t    ZipFile zipFile = new ZipFile(zipFileName); \n\t\t    zipFile.setFileNameCharset(\"gbk\");\n\t\t    zipFile.addFiles(filesToAdd, parameters); \n\t    } catch (ZipException e) {  \n\t    \tSystem.out.println(\"æ–‡ä»¶å‹ç¼©å‡ºé”™\");\n\t    \te.printStackTrace();\n\t    } \n\t}\n    \n    //é€šè¿‡è·¯å¾„è·å–å‹ç¼©æ–‡ä»¶é›†åˆ\n    private static ArrayList<File> getFiles(String srcFileName){\n    \tArrayList<File> filesToAdd = new ArrayList<File>();\n\t    File file=new File(srcFileName);\n\t    File[] files = new File[0]; \n\t    if(file.isDirectory()){\n\t    \tfiles = file.listFiles();\n\t    \tfor(int i=0;i<files.length;i++){\n\t    \t\tif(files[i].getName().endsWith(\".xls\")){//xlsç»“å°¾çš„excelæ·»åŠ å‹ç¼©é›†åˆ\n\t    \t\t\tfilesToAdd.add(new File(files[i].getPath()));\n\t\t\t    \tSystem.out.println(\"æ–‡ä»¶ï¼š\"+files[i].getPath());\n\t    \t\t}\n\t    \t}\n\t    } else {\n\t\t\tfilesToAdd.add(new File(file.getPath()));\n\t\t}\n\t    \n\t    return filesToAdd;\n    }\n```\n\n\nå…·ä½“ä»£ç è¯·å…³æ³¨ä¸ªäººå…¬ä¼—å·ã€charmsongoã€‘å›å¤[zip]\n\n> è¯´åœ¨æœ€åï¼Œå¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯·ç•™è¨€ï¼Œæˆ‘ä¼šå°½é‡åœ¨ç¬¬ä¸€æ—¶é—´ç»™æ‚¨ç­”å¤\n","tags":["java","åŠ å¯†","å‹ç¼©"]},{"title":"JDKç‰ˆæœ¬ä¸åŒå¼•å‘çš„httpsè¯·æ±‚è¯ä¹¦é—®é¢˜","url":"/2018/10/27/JDKç‰ˆæœ¬ä¸åŒå¼•å‘çš„httpsè¯·æ±‚è¯ä¹¦é—®é¢˜/","content":"# é—®é¢˜è§£å†³\n## é—®é¢˜æè¿°\né¦–å…ˆï¼ŒæœåŠ¡å™¨ä¸Šè·‘ç€ä¸€ä¸ªæ¥å£å·¥ç¨‹ï¼Œç¯å¢ƒæ˜¯jdk8ï¼Œä¸ºhttpsè¯·æ±‚ï¼ˆè¯ä¹¦è®¤è¯ï¼Œä½†è¿™é‡Œç»•è¿‡äº†è¯ä¹¦ï¼‰ï¼›å®¢æˆ·ç«¯é€šè¿‡httpsè°ƒç”¨æ¥å£ï¼Œç¯å¢ƒæ˜¯jdk7ï¼Œè¯·æ±‚æ—¶æŠ¥å¦‚ä¸‹é”™ï¼š\n```java\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n```\n## é—®é¢˜åˆ†æ\n\t\nè¿™ä¸ªé—®é¢˜å‡ºç°çš„åŸå› æ˜¯å› ä¸ºå¼€å‘æ—¶ï¼Œæˆ‘å®¢æˆ·ç«¯ç”¨çš„jdk8æµ‹è¯•ï¼Œæ²¡æœ‰å‡ºç°é—®é¢˜ï¼Œç„¶åå®¢æˆ·é‚£æ˜¯jdk7ï¼Œæ‰€ä»¥å‡ºç°äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ç”±äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„SSL/TLSç‰ˆæœ¬ä¸ä¸€è‡´ã€‚æœåŠ¡å™¨ä½¿ç”¨çš„TLSç‰ˆæœ¬é«˜ï¼Œè€Œå®¢æˆ·ç«¯æ”¯æŒçš„TLSç‰ˆæœ¬ä½ã€‚**Java 8é»˜è®¤æ”¯æŒTLSv1.2ç‰ˆæœ¬**ã€‚\n\n## è§£å†³è¿‡ç¨‹\n**è¿™é‡Œæœ‰ä¸¤ç§è§£å†³åŠæ³•**\n\n 1. å®¢æˆ·ç«¯å‡çº§ä¸ºjdk8(è®©å®¢æˆ·æ”¹ä¸æ€ä¹ˆç°å®ï¼Œè¿™ç§æ–¹æ³•å…ˆpass)\n 2. æ„é€ è¯ä¹¦new SSLConnectionSocketFactoryå¯¹è±¡æ—¶åŠ ä¸Šä¸¤ä¸ªå±æ€§\n \n\n *è¿™é‡Œè¯´ä¸‹ç¬¬äºŒç§è§£å†³æ–¹æ³•ï¼Œä¸‹é¢ SSLConnectionSocketFactory ä¸Šçš„æ³¨é‡Š* \n \n  getè¯·æ±‚\n  \n```java\n/**\n * getè¯·æ±‚\n * @param url\n * @param timeout è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n * @param user\n * @param code\n * @return\n */\npublic static String doGet(String url, int timeout, String user, String code) {\n\ttry {\n\t\tCloseableHttpClient client = null;\n\n\t\t/* ç›¸ä¿¡è‡ªå·±çš„CAå’Œæ‰€æœ‰è‡ªç­¾åçš„è¯ä¹¦ */\n\t\tSSLContext sslcontext = SSLContexts.custom().loadTrustMaterial(new TrustSelfSignedStrategy()).build();\n\n\t\t/* ä¸åšè¯ä¹¦æ ¡éªŒ */\n\t\tsslcontext.init(null, new TrustManager[] { truseAllManager }, null);\n\n\t\t/* æ·»åŠ ä¸¤ä¸ªå±æ€§ new String[]{\"TLSv1.2\"} å’Œ null */\n\t\tSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext,new String[]{\"TLSv1.2\"}, null, new HostnameVerifier() {\n\t\t\t@Override\n\t\t\tpublic boolean verify(String hostname, SSLSession session) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\t\n\t\tclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n\n\t\t//å‘é€getè¯·æ±‚\n\t\tHttpGet request = new HttpGet(url);\n\t\trequest.setHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n\t\trequest.setHeader(\"User\", user);\n\t\trequest.setHeader(\"Code\", code);\n\t\tRequestConfig requestConfig = RequestConfig.custom()\n\t\t\t\t.setConnectTimeout(timeout)\n\t\t\t\t.setSocketTimeout(timeout).build();\n\t\trequest.setConfig(requestConfig);\n\t\tHttpResponse response = client.execute(request);\n\n\t\t/**è¯»å–æœåŠ¡å™¨è¿”å›è¿‡æ¥çš„jsonå­—ç¬¦ä¸²æ•°æ®**/\n\t\tString strResult = EntityUtils.toString(response.getEntity());\n\t\treturn strResult;\n\t}catch (Exception e) {\n\t\te.printStackTrace();\n\t}\n\treturn null;\n}\n```\npostè¯·æ±‚\n```java\n/**\n * postè¯·æ±‚ï¼ˆç”¨äºè¯·æ±‚jsonæ ¼å¼çš„å‚æ•°ï¼‰\n * @param url è¯·æ±‚è·¯å¾„\n * @param params è¯·æ±‚å‚æ•°\n * @param user ç”¨æˆ·\n * @param code ç§˜é’¥\n * @return\n * @throws Exception\n */\npublic static String doPost(String url, String params, String user, String code) throws Exception {\n\n\tCloseableHttpClient httpclient = null;\n\n\t/* ç›¸ä¿¡è‡ªå·±çš„CAå’Œæ‰€æœ‰è‡ªç­¾åçš„è¯ä¹¦ */\n\tSSLContext sslcontext = SSLContexts.custom().loadTrustMaterial(new TrustSelfSignedStrategy()).build();\n\n\t/* ä¸åšè¯ä¹¦æ ¡éªŒ */\n\tsslcontext.init(null, new TrustManager[] { truseAllManager }, null);\n\t\n\t/* æ·»åŠ ä¸¤ä¸ªå±æ€§ new String[]{\"TLSv1.2\"} å’Œ null */\n\tSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext,new String[]{\"TLSv1.2\"}, null, new HostnameVerifier() {\n\t\t@Override\n\t\tpublic boolean verify(String hostname, SSLSession session) {\n\t\t\treturn true;\n\t\t}\n\t});\n\n\thttpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n\tHttpPost httpPost = new HttpPost(url);// åˆ›å»ºhttpPost\n\thttpPost.setHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n\thttpPost.setHeader(\"User\", user);\n\thttpPost.setHeader(\"Code\", code);\n\tString charSet = \"UTF-8\";\n\tStringEntity entity = new StringEntity(params, charSet);\n\thttpPost.setEntity(entity);\n\tCloseableHttpResponse response = null;\n\ttry {\n\n\t\tresponse = httpclient.execute(httpPost);\n\t\t\tHttpEntity responseEntity = response.getEntity();\n\t\t\tString jsonString = EntityUtils.toString(responseEntity);\n\t\t\treturn jsonString;\n\t}\n\tfinally {\n\t\tif (response != null) {\n\t\t\ttry {\n\t\t\t\tresponse.close();\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\ttry {\n\t\t\thttpclient.close();\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}\n```\n\nå…·ä½“ä»£ç è¯·åˆ° github è‡ªè¡Œ[ä¸‹è½½](https://github.com/charmsongo/ifctest)\n\nå¦‚æœè¿™é‡Œä¸èƒ½è§£å†³æ‚¨çš„é—®é¢˜è¯·å‚è€ƒå¦‚ä¸‹é“¾æ¥\n\n[é“¾æ¥1](https://blog.csdn.net/taiyangdao/article/details/54707184)[é“¾æ¥2](https://blog.csdn.net/fsafs168/article/details/82020959)","tags":["JDK","https","è¯ä¹¦"]},{"title":"Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell","url":"/2018/10/20/Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/","content":"\n> æ‰§è¡Œç¯å¢ƒï¼š Centos 7ï¼Œjdk8\n\n# å®‰è£…Jenkins\n\nJenkinsæ˜¯ä¸ªjavaç¨‹åºæ‰€ä»¥éœ€è¦å…ˆå®‰è£…jdk\n\n## Jdkå®‰è£…\n\n 1. è¿™é‡Œå…ˆåœ¨ winsdows ä¸Šä¸‹è½½ jdk-8u181-linux-x64.gz [è¿æ¥](https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html)ï¼›\n![è¿™é‡Œéœ€è¦ç™»å½•oracleæ‰èƒ½ä¸‹è½½](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/1.png)\n 2. ç„¶åé€šè¿‡winscpæ‹–åˆ°linuxä¸Šçš„ /usr/local è·¯å¾„ä¸‹ï¼›\n 3. ç„¶åè§£å‹å®‰è£…ï¼›\n```javascript\n[root@localhost /]# tar -xf jdk-8u121-linux-x64.tar.gz\n[root@localhost /]# mv jdk1.8.0_121/ /usr/local/jdk  && rm -rf jdk-8u121-linux-x64.tar.gz\n```\n 4. å†é…ç½®ç¯å¢ƒå˜é‡ï¼›\n```javascript\nroot@localhost:~# vim /etc/profile\nJAVA_HOME=/usr/local/jdk/\nPATH=$JAVA_HOME/bin:$PATH\nCLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport JAVA_HOME PATH CLASSPATH \nroot@localhost:/usr/local# source /etc/profile\n```\n\n##  å®‰è£…Jenkins\n\n```javascript\n[root@localhost ~]# wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war \n```\n\n## æ‰“å¼€é˜²ç«å¢™\néœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦æ‰“å¼€ï¼Œæ‰“å¼€çš„è¯éœ€è¦æ”¾å¼€ç«¯å£9000æˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™\n\n - æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\n```javascript\n [root@localhost local]# firewall-cmd --state\nrunning \n```\n - å…³é—­é˜²ç«å¢™\n```javascript\n[root@localhost local]#  systemctl stop firewalld\n```\n - å¯åŠ¨é˜²ç«å¢™\n```javascript\n[root@localhost local]#  systemctl start firewalld\n```\n - å¼€æ”¾ç«¯å£ 9000\n```javascript\n[root@localhost local]# firewall-cmd --zone=public --add-port=9000/tcp --permanent  ï¼ˆ--permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰\nsuccess\n```\n - æ›´æ–°é˜²ç«å¢™è§„åˆ™\n```javascript\n[root@localhost local]# firewall-cmd --reload\nsuccess \n```\n - æŸ¥çœ‹æ‰€æœ‰å¼€æ”¾ç«¯å£\n```javascript\n[root@localhost local]#  firewall-cmd --zone=public --list-ports\n9000/tcp    \n```\n## è‡ªå®šä¹‰æŒ‡å®šç«¯å£9000å¯åŠ¨jenkins\n```javascript\n[root@localhost ~]# java -jar jenkins.war --httpPort=9000\n```\n## æµè§ˆå™¨ç™»å½•\n\nåœ°å€æ è¾“å…¥ IP:9000 ï¼Œä¾‹ï¼š192.168.2.14ï¼š9000\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/2.png)\n\n**æ ¹æ®æç¤ºä¿¡æ¯æ‰¾åˆ°åˆå§‹å¯†ç è¾“å…¥ç™»å½•**\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/3.png)\n\n**é»˜è®¤é€‰æ‹© å®‰è£…æ¨èæ’ä»¶**\n\n##  ä¿®æ”¹ç®¡ç†å‘˜å¯†ç \nä¸Šä¸€æ­¥è¿‡åä¼šæœ‰ä¸ªåˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜çš„é¡µé¢ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œä¸å¥½ä½¿ï¼Œæ‰€ä»¥å°±ç™»é™†adminï¼Œç„¶åä¿®æ”¹adminå¯†ç \n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/4.png)\n\n**æ‹–åˆ°æœ€ä¸‹é¢ä¿®æ”¹å¯†ç **\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/5.png)\n\n**ç„¶åå¯ä»¥æ³¨é”€åç”¨ä¿®æ”¹çš„å¯†ç ç™»é™†äº†**\n\n##  åˆ›å»ºä¸€ä¸ªæ‰§è¡Œshellçš„ä»»åŠ¡\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/6.png)\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/7.png)\n\n**ç„¶åä¸‹ä¸€æ­¥æ‹–åˆ°æœ€ä¸‹é¢é€‰æ‹©æ„å»ºä¸‹æ‹‰æ¡†é€‰**\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/8.png)\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/9.png)\n\n## æ„å»ºåˆšåˆ›å»ºçš„Jenkinsä»»åŠ¡\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/10.png)\n\n\n## æŸ¥çœ‹æ‰§è¡Œç»“æœ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/11.png)\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](Linuxä¸Šç”¨Jenkinsæ‰§è¡Œshell/12.png)\n\n**å‡ºç° Finished: SUCCESS æ­å–œï¼Œå³ä¸ºæ‰§è¡ŒæˆåŠŸ**\n\n> å…¶å®ƒåšå®¢ï¼š\n> CSDN:https://blog.csdn.net/qq_29175301/article/details/83213252\n> OSChina:https://my.oschina.net/charmsongo/blog/2249904","tags":["linux","jenkins","shell"]},{"title":"å¯¹å¾…é‡‘é’±çš„æ€ç»´","url":"/2018/10/12/å¯¹å¾…é‡‘é’±çš„æ€ç»´/","content":"\n**ç©·äººæ€ç»´å’Œå¯Œäººæ€ç»´**\n- 1.äººè¶Šç¼ºä»€ä¹ˆå°±ä¼šçœ‹é‡ä»€ä¹ˆï¼Œè¶Šä¸ç¼ºä»€ä¹ˆå°±ä¼šçœ‹çš„è¶Šè½»ã€‚\n- 2.ç©·äººèŠ±é’±ä¹°ä¸œè¥¿é’±æ€»æ˜¯ä¼šå…ˆè€ƒè™‘è‡ªå·±è¿˜æœ‰å¤šå°‘é’±ï¼Œå¦‚æœä¸å¤Ÿå°±ä¸ä¹°äº†ï¼Œå¦‚æœä¹°çš„è¯å¦‚ä½•æ‰èƒ½ä¹°åˆ°æœ€å®æƒ çš„ä¸œè¥¿ï¼Œçœé’±æ€ç»´ï¼›å¯ŒäººèŠ±é’±ä¹°ä¸œè¥¿é¦–å…ˆæƒ³åˆ°çš„æ˜¯æˆ‘æƒ³è¦ä»€ä¹ˆï¼Œè¿™ä¸ªä¸œè¥¿å¯¹æˆ‘æ¥è¯´æœ‰ä»€ä¹ˆç”¨ï¼Œæ˜¯ä¸æ˜¯å¿…é¡»å¾—ï¼Œç›®æ ‡å¯¼å‘å‹ã€‚\n- 3.ç©·äººæ€ç»´è€ƒè™‘åšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™æ€»æ˜¯ä¼šå¿½ç•¥æ—¶é—´æˆæœ¬ï¼Œå–œæ¬¢ç”¨æ—¶é—´æ¥æ¢é‡‘é’±ï¼Œæ„Ÿè§‰å¤šèŠ±äº›æ—¶é—´æ¥å°‘æäº›é‡‘é’±å°±æ˜¯èµšäº†ã€‚\n- 4.å¤«äººæ€ç»´èŠ±é’±æ— å¤–ä¹ä¸¤ä»¶äº‹æƒ…æ²¡æ„è¯†ä¸ºäº†èµšé’±ï¼ŒäºŒæ˜¯ä¸ºäº†äº«å—ã€‚\n- 5.å‡å°‘æ— æ„ä¹‰çš„é¢‘ç¹å†³ç­–ï¼ŒèŠ‚çœå®è´µçš„ç²¾åŠ›ï¼Œç”¨åœ¨æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸Šã€‚\n- 6.å¼€æ‹“è‡ªå·±çš„è§†é‡ï¼ŒçŸ¥é“æ˜¯ä¸€ç äº‹ï¼Œåšåˆ°æ˜¯å¦ä¸€ç äº‹ã€‚"},{"title":"my blog's format has change","url":"/2018/10/07/my-blog-s-format-has-change/","content":"\n*ä½ å¥½å•Š*\n***\næˆ‘çš„åšå®¢çš„æ ¼å¼ç»ˆäºæ”¹å˜äº†ï¼Œé€‰æ‹©äº†ä¸€ä¸ª ç®€çº¦æ˜æœ— çš„æ ·å¼ï¼Œä¹‹åæœ‰æ—¶é—´æˆ‘ä¼šåŒæ­¥æ›´æ–°\næŠ€æœ¯åšå®¢ã€‚"},{"title":"ä½ å¥½,Hexo","url":"/2018/09/22/ä½ å¥½-Hexo/","content":"\nå¼ åšåœ¨åºŠä¸Šèººç€å‘¢ï¼Œ\nå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ"}]